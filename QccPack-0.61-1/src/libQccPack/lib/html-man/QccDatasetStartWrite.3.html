<!-- manual page source format generated by PolyglotMan v3.0.4, -->
<!-- available via anonymous ftp from ftp.cs.berkeley.edu:/ucb/people/phelps/tcltk/rman.tar.Z -->

<HTML>
<HEAD>
<TITLE>QccDatasetStartWrite.3</TITLE>
</HEAD>
<BODY>
<A HREF="#toc">Table of Contents</A><P>
 
<H2><A NAME="sect0" HREF="#toc0">NAME </A></H2>
QccDatasetWriteWholefile, QccDatasetWriteHeader, QccDatasetStartWrite, 
QccDatasetEndWrite, QccDatasetWriteBlock - writing of QccDataset structures 
to DAT-format files  
<H2><A NAME="sect1" HREF="#toc1">SYNOPSIS </A></H2>
<B>#include "libQccPack.h"</B>  <P>
<B>int QccDatasetWriteWholefile(QccDataset 
*</B><I>dataset</I><B>);</B>  <BR>
<B>int QccDatasetWriteHeader(QccDataset *</B><I>dataset</I><B>);</B>  <BR>
<B>int QccDatasetStartWrite(QccDataset 
*</B><I>dataset</I><B>);</B>  <BR>
<B>int QccDatasetEndWrite(QccDataset *</B><I>dataset</I><B>);</B>  <BR>
<B>int QccDatasetWriteBlock(QccDataset 
*</B><I>dataset</I><B>);</B>  
<H2><A NAME="sect2" HREF="#toc2">DESCRIPTION </A></H2>
These routines implement the writing of <B>QccDataset</B> 
datasets to <B>DAT</B>-format files. There are two distinct modes in which the 
vector-array data in datasets may be written: the whole file may be written 
at once, or the file may be written in non-overlapping blocks. For each 
of these routines, appropriate values must be supplied in <I>dataset</I>-&gt;<I>num_vectors</I>, 
<I>dataset</I>-&gt;<I>vector_dimension</I>, <I>dataset</I>-&gt;<I>min_val</I>, and <I>dataset</I>-&gt;<I>max_val</I> prior to calling 
the routines. <P>
<B>QccDatasetWriteWholefile()</B> writes the <B>DAT</B>-format file whose 
filename is given by <I>dataset</I>-&gt;<I>filename</I>. The whole file, including the header 
and all vectors of the dataset, is written at once. <I>dataset</I>-&gt;<I>vectors</I> is assumed 
to be allocated and to contain all <I>dataset</I> -&gt; num_vectors vectors of the 
dataset. <P>
<B>QccDatasetWriteHeader()</B> writes header information to the <B>DAT</B>-format 
file pointed to by <I>dataset</I>-&gt;<I>fileptr</I>, which must be already open for writing 
and positioned at the start of the file. The magic number and version information 
is supplied automatically by <B><A HREF="QccFileWriteMagicNumber.3.html">QccFileWriteMagicNumber</B>(3)</A>
. <P>
<B>QccDatasetStartWrite()</B> 
must be called before any block-based write to <I>dataset</I>. <B>QccDatasetStartWrite()</B> 
opens the file with  <B><A HREF="QccFileOpen.3.html">QccFileOpen</B>(3)</A>
 and writes the file's header with <B><A HREF="QccDatasetWriteHeader.3.html">QccDatasetWriteHeader</B>(3)</A>
. 
If the vector array is not already allocated (i.e., if <I>dataset</I>-&gt;<I>vectors</I> is 
<B>NULL</B>) the vector array is allocated by calling <B><A HREF="QccDatasetAlloc.3.html">QccDatasetAlloc</B>(3)</A>
. Prior 
to calling <B>QccDatasetStartWrite()</B>, <I>dataset</I>-&gt;<I>filename</I> must contain the name 
of the file, <I>dataset</I>-&gt;<I>vector_dimension</I> must give the dimension of the vectors, 
<I>dataset</I>-&gt;<I>num_vectors</I> must give the total number of vectors of the dataset, 
and <I>dataset</I>-&gt;<I>access_block_size</I> must give the block size desired for subsequent 
block-based writes. After <B>QccDatasetStartWrite()</B> returns, <I>dataset</I>-&gt;<I>fileptr</I> 
contains the <B>FILE</B> pointer to the open file, and the file is positioned 
immediately after the header, ready for writing the first block of vectors. 
<P>
<B>QccDatasetEndWrite()</B> closes a dataset file opened by a previous call to 
<B>QccDatasetStartWrite()</B>; additionally, the vector array, <I>dataset</I>-&gt;<I>vectors</I>, 
is freed with a call to  <B><A HREF="QccDatasetFree.3.html">QccDatasetFree</B>(3)</A>
. <P>
<B>QccDatasetWriteBlock()</B> writes 
the next block of vectors in the dataset. <I>dataset</I> must be prepared by a 
prior call to <B>QccDatasetStartWrite()</B>; that is,  <I>dataset</I>-&gt;<I>fileptr</I> must point 
to an open file and <I>dataset</I>-&gt;<I>access_block_size</I> must contain the size of 
the block of vectors to write. Additionally, <I>dataset</I>-&gt;<I>vectors</I> must contain 
the block of vectors to be written. <B>QccDatasetWriteBlock()</B> writes non-overlapping 
blocks of data to the file; after <B>QccDatasetWriteBlock()</B> returns, the 
file is positioned to write the subsequent block.  
<H2><A NAME="sect3" HREF="#toc3">RETURN VALUE </A></H2>
These routines 
return 0 on successful completion, 1 if an error occurs while writing 
the file.  
<H2><A NAME="sect4" HREF="#toc4">SEE ALSO </A></H2>
<B><A HREF="QccDatasetRead.3.html">QccDatasetRead</B>(3)</A>
, <B><A HREF="QccFileWriteMagicNumber.3.html">QccFileWriteMagicNumber</B>(3)</A>
, <B><A HREF="QccPack.3.html">QccPack</B>(3)</A>
 
 
<H2><A NAME="sect5" HREF="#toc5">AUTHOR </A></H2>
Copyright (C) 1997-2016  James E. Fowler  <P>

<HR><P>
<A NAME="toc"><B>Table of Contents</B></A><P>
<UL>
<LI><A NAME="toc0" HREF="#sect0">NAME</A></LI>
<LI><A NAME="toc1" HREF="#sect1">SYNOPSIS</A></LI>
<LI><A NAME="toc2" HREF="#sect2">DESCRIPTION</A></LI>
<LI><A NAME="toc3" HREF="#sect3">RETURN VALUE</A></LI>
<LI><A NAME="toc4" HREF="#sect4">SEE ALSO</A></LI>
<LI><A NAME="toc5" HREF="#sect5">AUTHOR</A></LI>
</UL>
<p><br><br><a href="http://sourceforge.net/projects/qccpack"><img src="http://sflogo.sourceforge.net/sflogo.php?group_id=5992&type=6" width="210" height="62" border="0" alt="Get QccPack at SourceForge.net. Fast, secure and Free Open Source software downloads" /></a></body></html>
