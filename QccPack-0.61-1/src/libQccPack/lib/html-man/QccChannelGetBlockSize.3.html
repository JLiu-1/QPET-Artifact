<!-- manual page source format generated by PolyglotMan v3.0.4, -->
<!-- available via anonymous ftp from ftp.cs.berkeley.edu:/ucb/people/phelps/tcltk/rman.tar.Z -->

<HTML>
<HEAD>
<TITLE>QccChannelGetBlockSize.3</TITLE>
</HEAD>
<BODY>
<A HREF="#toc">Table of Contents</A><P>
 
<H2><A NAME="sect0" HREF="#toc0">NAME </A></H2>
QccChannel - generic data structure for channel of indices  
<H2><A NAME="sect1" HREF="#toc1">SYNOPSIS 
</A></H2>
<B>#include "libQccPack.h"</B>  <P>
<B>int QccChannelInitialize(QccChannel *</B><I>channel</I><B>);</B> 
 <BR>
<B>int QccChannelAlloc(QccChannel *</B><I>channel</I><B>);</B>  <BR>
<B>void QccChannelFree(QccChannel 
*</B><I>channel</I><B>);</B>  <BR>
<B>int QccChannelGetBlockSize(const QccChannel *</B><I>channel</I><B>);</B>  <BR>
<B>int 
QccChannelPrint(const QccChannel *</B><I>channel</I><B>);</B>  
<H2><A NAME="sect2" HREF="#toc2">DESCRIPTION </A></H2>
QccPack provides 
data structure <B>QccChannel</B> for representing a generic channel of channel 
symbols. These channel symbols, which are inherently nonnegative integers, 
are typically the output of a quantizer (see  <B><A HREF="QccPackSQ.3.html">QccPackSQ</B>(3)</A>
, <B><A HREF="QccPackVQ.3.html">QccPackVQ</B>(3)</A>
). 
The  <B>QccChannel</B> channel structure can be read from and written to  <B>CHN</B>-format 
files, or a <B>QccChannel</B> structure can be used without file input or output. 
<P>
The main component of a <B>QccChannel</B> structure is a list of channel symbols. 
For file input and output, this symbol list is the current block of symbols 
being written to or read from the file. That is, access to <B>CHN</B>-format files 
is block-based, with a block of symbols being written or read at once. Optionally, 
the block size can be set to be the same as the file size, so that all 
symbols in the channel are accessed simultaneously. <B>QccChannel</B> channels 
that do not involve file access typically hold all symbols of the channel 
in the symbol list. <P>
Channel symbols are nonnegative integers drawn from 
a channel-symbol alphabet. The <B>QccChannel</B> structure possesses a field (see 
below) that gives the size of this alphabet; the channel-symbol alphabet 
is then  the integers 0 through <I>alphabet_size</I> - 1, although not all of 
these symbols necessary appear in any given channel. Additionally to this 
alphabet of symbols, there exists a special null symbol, <B>QCCCHANNEL_NULLSYMBOL</B>, 
defined as -1, that indicates the absence of a symbol in the channel.  
<H2><A NAME="sect3" HREF="#toc3">DATA 
STRUCTURE </A></H2>
The <B>QccChannel</B> data structure is defined as:  <blockquote><P>
 typedef struct 
<BR>
 { <BR>
   QccString    filename; <BR>
   FILE         *fileptr; <BR>
   QccString   
 magic_num; <BR>
   int          major_version; <BR>
   int          minor_version; 
<BR>
   int          channel_length; <BR>
   int          access_block_size; <BR>
   
int          num_blocks_accessed; <BR>
   int          alphabet_size; <BR>
   int 
         *channel_symbols; <BR>
 } QccChannel; <BR>
  </blockquote>
<P>
The fields of <B>QccChannel</B> are 
as follows: 
<DL>

<DT><I>filename</I>  </DT>
<DD>For channels associated with a file, this is the 
name of the file. </DD>

<DT><I>fileptr</I>  </DT>
<DD>For channels associated with an open file, this 
is the <B>FILE</B> pointer. </DD>

<DT><I>magic_num</I>, <I>major_version</I>, <I>minor_version</I>  </DT>
<DD>For channels 
associated with a file, these are the magic number and version of the 
file. </DD>

<DT><I>channel_length</I>  </DT>
<DD>The total number of symbols contained in the channel. 
</DD>

<DT><I>access_block_size</I>  </DT>
<DD>For channels associated with a file, this is the number 
of symbols that will be read or written at a time; i.e., the block size 
for block-based reading and writing. </DD>

<DT><I>num_blocks_accessed</I>  </DT>
<DD>For channels associated 
with a file, this is the number of blocks of symbols that have already 
been read or written. </DD>

<DT><I>alphabet_size</I>  </DT>
<DD>the number of possible channel symbols 
(not including the special null symbol).  It is assumed that the alphabet 
of possible channel symbols is the integers 0 through <I>alphabet_size</I> - 1. 
</DD>

<DT><I>channel_symbols</I>  </DT>
<DD>The current block of symbols from the channel; this array 
contains <I>access_block_size</I>  symbols. </DD>
</DL>
 
<H2><A NAME="sect4" HREF="#toc4">FILE FORMAT </A></H2>
For reading and writing 
structures of type <B>QccChannel</B>, QccPack provides the <B>CHN</B> file format. This 
file format starts with an ASCII header followed by ASCII data. The ASCII 
header consists of magic-number/revision information followed by any amount 
of white space (space, `\t' (tab), `\n' (newline), `\r' (return)) and/or comments 
lines (lines starting with `#').  Following this white space, additional 
ASCII header information is given, separated by blanks and newlines. ASCII 
data follows the header information. <P>
The <B>CHN</B> file format consists of the 
following information:  <blockquote> <P>
<B>CHN</B><I>X.X</I>  <BR>
<I>&lt;white space&gt;</I>  <BR>
<I>N</I>  <BR>
<I>A</I>  <BR>
<I>C1</I>  <BR>
<I>C2</I>  <BR>
.  <BR>
.  <BR>
.  <BR>
 <P>
 </blockquote>
where 
<B>CHN</B> is the magic number, <I>X.X</I> is the version number, <I>&lt;white space&gt;</I> is white 
space and/or  comment lines,  <I>N</I>  is the length of the channel, <I>A</I>  is size 
of the channel alphabet, and  <I>Ci</I> is the ith channel symbol.  <I>N</I>, <I>A</I>, <I>and</I> 
<I>Ci</I> are integers and are stored as ASCII.  
<H2><A NAME="sect5" HREF="#toc5">ROUTINES </A></H2>
<B>QccChannelInitialize()</B> 
should be called before any use of a <B>QccChannel</B> structure. <B>QccChannelInitialize()</B> 
initializes the fields of <I>channel</I> to the following values:  <blockquote><P>
 <I>filename</I>: 
<B>NULL</B> string  <BR>
<I>magic_num</I>: <B>QCCCHANNEL_MAGICNUM</B>  <BR>
<I>major_version</I>, <I>minor_version</I>: 
initialized to output of  <B><A HREF="QccGetQccPackVersion.3.html">QccGetQccPackVersion</B>(3)</A>
  <BR>
<I>channel_length</I>: 0  
<BR>
<I>access_block_size</I>: <B>QCCCHANNEL_ACCESSWHOLEFILE</B>  <BR>
<I>num_blocks_accessed</I>: 0 
 <BR>
<I>alphabet_size</I>: 0  <BR>
<I>channel_symbols</I>: <B>NULL</B>  </blockquote>
<P>
<B>QccChannelAlloc()</B> allocates 
storage space for the <I>channel_symbols</I>  array of <I>channel</I>. If  <I>channel_symbols</I> 
is not <B>NULL</B>, <B>QccChannelAlloc()</B> returns immediately without changing the 
state of any memory allocation. Otherwise, the  <I>channel_symbols</I> array is 
allocated. The fields <I>access_block_size</I> and <I>channel_length</I> must be defined 
prior to calling <B>QccChannelAlloc()</B>. If <I>access_block_size</I> equals <B>QCCCHANNEL_ACCESSWHOLEFILE</B>, 
then space for <I>channel_length</I> symbols is allocated; otherwise, space for 
<I>access_block_size</I> symbols is allocated. <P>
<B>QccChannelFree()</B> frees the <I>channel_symbols</I> 
array previously allocated by <B>QccChannelAlloc() .</B> <P>
<B>QccChannelGetBlockSize()</B> 
returns the block size of the <I>channel_symbols</I> array of <I>channel</I>. If <I>access_block_size</I> 
is <B>QCCCHANNEL_ACCESSWHOLEFILE</B>, <I>channel_length</I> is returned; otherwise, 
<I>access_block_size</I> is returned. <P>
<B>QccChannelPrint()</B> prints the contents of 
<I>channel</I> to stdout.  
<H2><A NAME="sect6" HREF="#toc6">RETURN VALUE </A></H2>
Except for <B>QccChannelGetBlockSize()</B>, each 
of these routines return 0 upon successful completion, 1 on error.  
<H2><A NAME="sect7" HREF="#toc7">SEE 
ALSO </A></H2>
<B><A HREF="QccGetQccPackVersion.3.html">QccGetQccPackVersion</B>(3)</A>
, <B><A HREF="QccChannelRead.3.html">QccChannelRead</B>(3)</A>
, <B><A HREF="QccChannelWrite.3.html">QccChannelWrite</B>(3)</A>
, <B><A HREF="QccPack.3.html">QccPack</B>(3)</A>
 
 
<H2><A NAME="sect8" HREF="#toc8">AUTHOR </A></H2>
Copyright (C) 1997-2016  James E. Fowler  <P>

<HR><P>
<A NAME="toc"><B>Table of Contents</B></A><P>
<UL>
<LI><A NAME="toc0" HREF="#sect0">NAME</A></LI>
<LI><A NAME="toc1" HREF="#sect1">SYNOPSIS</A></LI>
<LI><A NAME="toc2" HREF="#sect2">DESCRIPTION</A></LI>
<LI><A NAME="toc3" HREF="#sect3">DATA STRUCTURE</A></LI>
<LI><A NAME="toc4" HREF="#sect4">FILE FORMAT</A></LI>
<LI><A NAME="toc5" HREF="#sect5">ROUTINES</A></LI>
<LI><A NAME="toc6" HREF="#sect6">RETURN VALUE</A></LI>
<LI><A NAME="toc7" HREF="#sect7">SEE ALSO</A></LI>
<LI><A NAME="toc8" HREF="#sect8">AUTHOR</A></LI>
</UL>
<p><br><br><a href="http://sourceforge.net/projects/qccpack"><img src="http://sflogo.sourceforge.net/sflogo.php?group_id=5992&type=6" width="210" height="62" border="0" alt="Get QccPack at SourceForge.net. Fast, secure and Free Open Source software downloads" /></a></body></html>
