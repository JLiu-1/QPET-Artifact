<!-- manual page source format generated by PolyglotMan v3.0.4, -->
<!-- available via anonymous ftp from ftp.cs.berkeley.edu:/ucb/people/phelps/tcltk/rman.tar.Z -->

<HTML>
<HEAD>
<TITLE>QccChannelEndWrite.3</TITLE>
</HEAD>
<BODY>
<A HREF="#toc">Table of Contents</A><P>
 
<H2><A NAME="sect0" HREF="#toc0">NAME </A></H2>
QccChannelWriteWholefile, QccChannelWriteHeader, QccChannelStartWrite, 
QccChannelEndWrite, QccChannelWriteBlock - writing of QccChannel structures 
to CHN-format files  
<H2><A NAME="sect1" HREF="#toc1">SYNOPSIS </A></H2>
<B>#include "libQccPack.h"</B>  <P>
<B>int QccChannelWriteWholefile(QccChannel 
*</B><I>channel</I><B>);</B>  <BR>
<B>int QccChannelWriteHeader(QccChannel *</B><I>channel</I><B>);</B>  <BR>
<B>int QccChannelStartWrite(QccChannel 
*</B><I>channel</I><B>);</B>  <BR>
<B>int QccChannelEndWrite(QccChannel *</B><I>channel</I><B>);</B>  <BR>
<B>int QccChannelWriteBlock(QccChannel 
*</B><I>channel</I><B>);</B>  
<H2><A NAME="sect2" HREF="#toc2">DESCRIPTION </A></H2>
These routines implement the writing of <B>QccChannel</B> 
channels to <B>CHN</B>-format files. There are two distinct modes in which the 
channel-symbol data in channels may be written: the whole file may be written 
at once, or the file may be written in non-overlapping blocks. For each 
of these routines, appropriate values must be supplied in <I>channel</I>-&gt;<I>channel_length</I> 
and <I>channel</I>-&gt;<I>alphabet_size</I> prior to calling the routines. <P>
<B>QccChannelWriteWholefile()</B> 
writes the <B>CHN</B>-format file whose filename is given by <I>channel</I>-&gt;<I>filename</I>. The 
whole file, including the header and all symbols of the channel, is written 
at once. <I>channel</I>-&gt;<I>channel_symbols</I> is assumed to be allocated and to contain 
all <I>channel</I> -&gt; channel_length symbols of the channel. <P>
<B>QccChannelWriteHeader()</B> 
writes header information to the <B>CHN</B>-format file pointed to by <I>channel</I>-&gt;<I>fileptr</I>, 
which must be already open for writing and positioned at the start of 
the file. The magic number and version information is supplied automatically 
by <B><A HREF="QccFileWriteMagicNumber.3.html">QccFileWriteMagicNumber</B>(3)</A>
. <P>
<B>QccChannelStartWrite()</B> must be called before 
any block-based write to <I>channel</I>. <B>QccChannelStartWrite()</B> opens the file 
with  <B><A HREF="QccFileOpen.3.html">QccFileOpen</B>(3)</A>
 and writes the file's header with <B><A HREF="QccChannelWriteHeader.3.html">QccChannelWriteHeader</B>(3)</A>
. 
If the symbol array is not already allocated (i.e., if <I>channel</I>-&gt;<I>channel_symbols</I> 
is <B>NULL</B>) the symbol array is allocated by calling <B><A HREF="QccChannelAlloc.3.html">QccChannelAlloc</B>(3)</A>
. Prior 
to calling <B>QccChannelStartWrite()</B>, <I>channel</I>-&gt;<I>filename</I> must contain the name 
of the file, <I>channel</I>-&gt;<I>alphabet_size</I> must contain the channel alphabet size, 
<I>channel</I>-&gt;<I>channel_length</I> must contain the total length of the channel, and 
<I>channel</I>-&gt;<I>access_block_size</I> must give the block size desired for subsequent 
block-based writes. After <B>QccChannelStartWrite()</B> returns, <I>channel</I>-&gt;<I>fileptr</I> 
contains the <B>FILE</B> pointer to the open file, and the file is positioned 
immediately after the header, ready for writing the first block of symbols. 
<P>
<B>QccChannelEndWrite()</B> closes a channel file opened by a previous call to 
<B>QccChannelStartWrite()</B>; additionally, the symbol array, <I>channel</I>-&gt;<I>channel_symbols</I>, 
is freed with a call to  <B><A HREF="QccChannelFree.3.html">QccChannelFree</B>(3)</A>
. <P>
<B>QccChannelWriteBlock()</B> writes 
the next block of symbols in the channel. <I>channel</I> must be prepared by a 
prior call to <B>QccChannelStartWrite()</B>; that is,  <I>channel</I>-&gt;<I>fileptr</I> must point 
to an open file and <I>channel</I>-&gt;<I>access_block_size</I> must contain the size of 
the block of symbols to write. Additionally, <I>channel</I>-&gt;<I>channel_symbols</I> must 
contain the block of symbols to be written. <B>QccChannelWriteBlock()</B> writes 
non-overlapping blocks of data to the file; after <B>QccChannelWriteBlock()</B> 
returns, the file is positioned to write the subsequent block.  
<H2><A NAME="sect3" HREF="#toc3">RETURN 
VALUE </A></H2>
These routines return 0 on successful completion, 1 if an error 
occurs while writing the file.  
<H2><A NAME="sect4" HREF="#toc4">SEE ALSO </A></H2>
<B><A HREF="QccChannelRead.3.html">QccChannelRead</B>(3)</A>
, <B><A HREF="QccFileWriteMagicNumber.3.html">QccFileWriteMagicNumber</B>(3)</A>
, 
<B><A HREF="QccChannel.3.html">QccChannel</B>(3)</A>
, <B><A HREF="QccPack.3.html">QccPack</B>(3)</A>
  
<H2><A NAME="sect5" HREF="#toc5">AUTHOR </A></H2>
Copyright (C) 1997-2016  James E. Fowler 
 <P>

<HR><P>
<A NAME="toc"><B>Table of Contents</B></A><P>
<UL>
<LI><A NAME="toc0" HREF="#sect0">NAME</A></LI>
<LI><A NAME="toc1" HREF="#sect1">SYNOPSIS</A></LI>
<LI><A NAME="toc2" HREF="#sect2">DESCRIPTION</A></LI>
<LI><A NAME="toc3" HREF="#sect3">RETURN VALUE</A></LI>
<LI><A NAME="toc4" HREF="#sect4">SEE ALSO</A></LI>
<LI><A NAME="toc5" HREF="#sect5">AUTHOR</A></LI>
</UL>
<p><br><br><a href="http://sourceforge.net/projects/qccpack"><img src="http://sflogo.sourceforge.net/sflogo.php?group_id=5992&type=6" width="210" height="62" border="0" alt="Get QccPack at SourceForge.net. Fast, secure and Free Open Source software downloads" /></a></body></html>
