<!-- manual page source format generated by PolyglotMan v3.0.4, -->
<!-- available via anonymous ftp from ftp.cs.berkeley.edu:/ucb/people/phelps/tcltk/rman.tar.Z -->

<HTML>
<HEAD>
<TITLE>QccFileClose.3</TITLE>
</HEAD>
<BODY>
<A HREF="#toc">Table of Contents</A><P>
 
<H2><A NAME="sect0" HREF="#toc0">NAME </A></H2>
QccFileExists, QccFileOpen, QccFileDescriptorOpen, QccFileClose, 
QccFileRemove, QccFileGetSize, QccFileGetModTime, QccFileGetRealPath, 
QccFileGetCurrentPosition, QccFileRewind - file-access routines  
<H2><A NAME="sect1" HREF="#toc1">SYNOPSIS 
</A></H2>
<B>#include "libQccPack.h"</B>  <P>
<B>int QccFileExists(const QccString </B><I>filename</I><B>);</B>  
<BR>
<B>int QccFileGetExtension(const QccString </B><I>filename</I><B>, QccString </B><I>extension</I><B>);</B> 
 <BR>
<B>FILE *QccFileOpen(const QccString </B><I>filename</I><B>, QccString </B><I>mode</I><B>);</B>  <BR>
<B>FILE *QccFileDescriptorOpen(int 
</B><I>file_descriptor</I><B>, const QccString </B><I>mode</I><B>);</B>  <BR>
<B>int QccFileClose(FILE *</B><I>fileptr</I><B>);</B> 
 <BR>
<B>int QccFileSeekable(FILE *</B><I>fileptr</I><B>);</B>  <BR>
<B>int QccFileFlush(FILE *</B><I>fileptr</I><B>);</B> 
 <BR>
<B>int QccFileRemove(const QccString </B><I>filename</I><B>);</B>  <BR>
<B>int QccFileGetSize(const 
QccString </B><I>filename</I><B>, FILE *</B><I>fileptr</I><B>, long *</B><I>filesize</I><B>);</B>  <BR>
<B>int QccFileGetModTime(const 
QccString </B><I>filename</I><B>, FILE *</B><I>fileptr</I><B>, long *</B><I>time</I><B>);</B>  <BR>
<B>int QccFileGetRealPath(const 
QccString </B><I>filename</I><B>, QccString </B><I>path</I><B>);</B>  <BR>
<B>int QccFileGetCurrentPosition(FILE 
*</B><I>infile</I><B>, long *</B><I>current_position</I><B>);</B>  <BR>
<B>int QccFileRewind(FILE *</B><I>infile</I><B>);</B>  
<H2><A NAME="sect2" HREF="#toc2">DESCRIPTION 
</A></H2>
<B>QccFileExists()</B> returns 1 if the file specified by <I>filename</I> exists, or 
0 otherwise. <P>
<B>QccFileGetExtension()</B> examines <I>filename</I> and returns in <I>extension</I> 
the filename extension, the substring of <I>filename</I> appearing after the 
final '.'. If <I>filename</I> has no '.' in it, then <B>QccFileGetExtension()</B> returns with 
a raturn value of 1 and a zero-length string in <I>extension</I>. If the substring 
following the final '.' is "gz" (i.e., it is a <B><A HREF="gzip.1.html">gzip</B>(1)</A>
-compressed file), then 
the substring between the next-to-last '.' and the last '.' is returned as <I>extension</I>. 
<P>
<B>QccFileOpen()</B> opens the file specified by <I>filename</I> for reading  (<I>mode</I><I></I> 
= "r") or writing (<I>mode</I> = "w"). If <I>filename</I> indicates that the file is 
compressed,  <B>QccFileOpen()</B> opens the file for reading or writing compressed 
data (see "COMPRESSED-FILE ACCESS" below). Upon succesful completion, <B>QccFileOpen()</B> 
returns a <B>FILE</B> pointer.  Otherwise, <B>NULL</B> is returned. <P>
<B>QccFileDescriptorOpen()</B> 
returns a <B>FILE</B> pointer for the file descriptor <I>file_descriptor</I>. Usually, 
 <I>file_descriptor</I> is produced by opening a file via <B><A HREF="open.2.html">open</B>(2)</A>
 or a pipe via 
<B><A HREF="pipe.2.html">pipe</B>(2)<B></A>
.</B> <B>QccFileDescriptorOpen()</B> calls <B><A HREF="fdopen.3.html">fdopen</B>(3)</A>
. <P>
<B>QccFileClose()</B> closes 
a file previously opened by <B>QccFileOpen()</B> or <B>QccFileDescriptorOpen()</B>. If 
<I>fileptr</I> does not correspond to a file opened by <B>QccFileOpen()</B> or <B>QccFileDescriptorOpen()</B>, 
<B>QccFileClose()</B> returns 1; otherwise a successful completion is indicated 
by a return value of 0. <P>
<B>QccFileSeekable()</B> returns 1 if  <I>fileptr</I> is a seekable 
stream (i.e., not a pipe, socket, or FIFO), or 0 otherwise. <P>
<B>QccFileFlush()</B> 
flushes the  <I>fileptr</I> stream. See  <B><A HREF="fflush.3.html">fflush</B>(3)</A>
. <P>
<B>QccFileRemove()</B> removes (deletes) 
the file named by <I>filename</I>. If the remove fails for whatever reason (nonexistent 
file, insufficient privilege for the remove, etc.) a value of 1 is returned; 
0 is returned on success. <P>
<B>QccFileGetSize()</B> returns the size of the file 
in bytes in the location pointed to by <I>filesize</I>. The file can be specified 
by either its <I>filename</I>, or by giving a <B>FILE</B> pointer to it. The size of 
a compressed file cannot be determined from a <B>FILE</B> pointer, so use the 
<I>filename</I> method. <P>
<B>QccFileGetModTime()</B> returns the modtime (time of last 
modification) of the file in the location pointed to by <I>modtime</I>. The file 
can be specified by either its <I>filename</I>, or by giving a <B>FILE</B> pointer to 
it. The modtime of a compressed file cannot be determined from a <B>FILE</B> pointer, 
so use the <I>filename</I> method. <B>QccFileGetModTime()</B> returns 0 for successful 
completion, 1 otherwise. <P>
<B>QccFileGetRealPath()</B> expands all symbolic links, 
resolves references to '.' and '..', and removes extra '/' characters in <I>filename</I> 
to produce a canonicalized absolute pathname to the file which is retured 
in <I>path</I>. Internally, <B><A HREF="realpath.3.html">realpath</B>(3)</A>
 is used. <P>
<B>QccFileGetCurrentPosition()</B> returns 
the current value of the file-position indicator for the stream pointed 
to by <I>infile</I>; the current position is returned in the location pointed 
to by <I>current_position</I>. <B>QccFileGetCurrentPosition()</B> does not work for compressed 
files. <B>QccFileGetCurrentPosition()</B> returns 0 for successful completion, 
1 otherwise. <P>
<B>QccFileRewind()</B> moves the file-position indicator for the stream 
pointed to by <I>infile</I> to the start of the file. <B>QccFileRewind()</B> does not 
work for compressed files. <B>QccFileRewind()</B> returns 0 for successful completion, 
1 otherwise.  
<H2><A NAME="sect3" HREF="#toc3">COMPRESSED-FILE ACCESS </A></H2>
The QccPack file-access routines are 
able to read and write compressed files created by <B><A HREF="gzip.1.html">gzip</B>(1)</A>
. When opening 
a file for reading or writing, <B>QccFileOpen()</B> checks the  <I>filename</I> for 
a ".Z" or ".gz" extension.  If the <I>filename</I> has one of these extensions, 
it is assumed that the file is compressed. In this case,  <B>QccFileOpen()</B> 
opens a pipe (via <B><A HREF="popen.3.html">popen</B>(3)</A>
) to <B><A HREF="gzip.1.html">gzip</B>(1)</A>
 (for writing) or <B><A HREF="gunzip.1.html">gunzip</B>(1)</A>
 (for 
reading). All reading and writing of data to the compressed file then goes 
through the pipe. <P>
For each  <B>FILE</B> pointer returned by <B>QccFileOpen()</B>, the 
QccPack library keeps track of whether the pointer corresponds to an actual 
file or a pipe;  <B>QccFileClose()</B> then closes the file appropriately by 
calling <B><A HREF="fclose.3.html">fclose</B>(3)<B></B></A>
 or <B><A HREF="pclose.3.html">pclose</B>(3)</A>
 as needed.  
<H2><A NAME="sect4" HREF="#toc4">SEE ALSO </A></H2>
<B><A HREF="fopen.3.html">fopen</B>(3)</A>
, <B><A HREF="popen.3.html">popen</B>(3)</A>
, 
<B><A HREF="open.2.html">open</B>(2)</A>
, <B><A HREF="fdopen.3.html">fdopen</B>(3)</A>
, <B><A HREF="pipe.2.html">pipe</B>(2)</A>
, <B><A HREF="realpath.3.html">realpath</B>(3)</A>
, <B><A HREF="gzip.1.html">gzip</B>(1)</A>
, <B><A HREF="gunzip.1.html">gunzip</B>(1)</A>
, <B><A HREF="QccPack.3.html">QccPack</B>(3)</A>
 
 
<H2><A NAME="sect5" HREF="#toc5">AUTHOR </A></H2>
Copyright (C) 1997-2016  James E. Fowler  <P>

<HR><P>
<A NAME="toc"><B>Table of Contents</B></A><P>
<UL>
<LI><A NAME="toc0" HREF="#sect0">NAME</A></LI>
<LI><A NAME="toc1" HREF="#sect1">SYNOPSIS</A></LI>
<LI><A NAME="toc2" HREF="#sect2">DESCRIPTION</A></LI>
<LI><A NAME="toc3" HREF="#sect3">COMPRESSED-FILE ACCESS</A></LI>
<LI><A NAME="toc4" HREF="#sect4">SEE ALSO</A></LI>
<LI><A NAME="toc5" HREF="#sect5">AUTHOR</A></LI>
</UL>
<p><br><br><a href="http://sourceforge.net/projects/qccpack"><img src="http://sflogo.sourceforge.net/sflogo.php?group_id=5992&type=6" width="210" height="62" border="0" alt="Get QccPack at SourceForge.net. Fast, secure and Free Open Source software downloads" /></a></body></html>
