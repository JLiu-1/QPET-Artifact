<!-- manual page source format generated by PolyglotMan v3.0.4, -->
<!-- available via anonymous ftp from ftp.cs.berkeley.edu:/ucb/people/phelps/tcltk/rman.tar.Z -->

<HTML>
<HEAD>
<TITLE>QccDatasetCopy.3</TITLE>
</HEAD>
<BODY>
<A HREF="#toc">Table of Contents</A><P>
 
<H2><A NAME="sect0" HREF="#toc0">NAME </A></H2>
QccDataset - generic vector data structure  
<H2><A NAME="sect1" HREF="#toc1">SYNOPSIS </A></H2>
<B>#include "libQccPack.h"</B> 
 <P>
<B>int QccDatasetInitialize(QccDataset *</B><I>dataset</I><B>);</B>  <BR>
<B>int QccDatasetAlloc(QccDataset 
*</B><I>dataset</I><B>);</B>  <BR>
<B>void QccDatasetFree(QccDataset *</B><I>dataset</I><B>);</B>  <BR>
<B>int QccDatasetGetBlockSize(const 
QccDataset *</B><I>dataset</I><B>);</B>  <BR>
<B>int QccDatasetPrint(const QccDataset *</B><I>dataset</I><B>);</B> 
 <BR>
<B>int QccDatasetCopy(QccDataset *</B><I>dataset1</I><B>, const QccDataset *</B><I>dataset2</I><B>);</B> 
 
<H2><A NAME="sect2" HREF="#toc2">DESCRIPTION </A></H2>
QccPack provides data structure <B>QccDataset</B> for representing 
a generic two-dimensional dataset composed of a list of vectors of the 
same vector dimension. This dataset structure can be read from and written 
to  <B>DAT</B>-format files, or a <B>QccDataset</B> structure can be used without file 
input or output. <P>
The main component of a <B>QccDataset</B> structure is an array 
of vectors. For file input and output, this array of vectors is the current 
block of vectors being written to or read from the file. That is, access 
to <B>DAT</B>-format files is block-based, with a block of vectors being written 
or read at once. Optionally, the block size can be set to be the same as 
the file size, so that all vectors in the dataset are accessed simultaneously. 
<B>QccDataset</B> datasets that do not involve file access typically hold all 
vectors of the dataset in the vector array.  
<H2><A NAME="sect3" HREF="#toc3">DATA STRUCTURE </A></H2>
The <B>QccDataset</B> 
data structure is defined as:  <blockquote><P>
 typedef struct <BR>
 { <BR>
   QccString       filename; 
<BR>
   FILE            *fileptr; <BR>
   QccString       magic_num; <BR>
   int     
        major_version; <BR>
   int             minor_version; <BR>
   int       
      num_vectors; <BR>
   int             vector_dimension; <BR>
   int        
     access_block_size; <BR>
   int             num_blocks_accessed; <BR>
   double 
         min_val; <BR>
   double          max_val; <BR>
   QccMatrix  vectors; <BR>
 
} QccDataset; <BR>
  </blockquote>
<P>
The fields of <B>QccDataset</B> are as follows: 
<DL>

<DT><I>filename</I>  </DT>
<DD>For 
datasets associated with a file, this is the name of the file. </DD>

<DT><I>fileptr</I> 
 </DT>
<DD>For datasets associated with an open file, this is the <B>FILE</B> pointer. </DD>

<DT><I>magic_num</I>, 
<I>major_version</I>, <I>minor_version</I>  </DT>
<DD>For datasets associated with a file, these 
are the magic number and version of the file. </DD>

<DT><I>num_vectors</I>  </DT>
<DD>The total number 
of vectors contained in the dataset. </DD>

<DT><I>vector_dimension</I>  </DT>
<DD>The vector dimension 
of the vectors in the dataset. </DD>

<DT><I>access_block_size</I>  </DT>
<DD>For datasets associated 
with a file, this is the number of vectors that will be read or written 
at a time; i.e., the block size for block-based reading and writing. </DD>

<DT><I>num_blocks_accessed</I> 
 </DT>
<DD>For datasets associated with a file, this is the number of blocks of 
vectors that have already been read or written. </DD>

<DT><I>min_val</I>, <I>max_val</I>  </DT>
<DD>These 
two values give the smallest and largest vector components, respectively, 
contained in the dataset. </DD>

<DT><I>vectors</I>  </DT>
<DD>The current block of vectors from the 
dataset.  The array contains <I>access_block_size</I>  vectors each having dimension 
<I>vector_dimension</I>. </DD>
</DL>
 
<H2><A NAME="sect4" HREF="#toc4">FILE FORMAT </A></H2>
For reading and writing structures of type 
<B>QccDataset</B>, QccPack provides the <B>DAT</B> file format. This file format starts 
with an ASCII header followed by binary data. The ASCII header consists 
of magic-number/revision information followed by any amount of white space 
(space, `\t' (tab), `\n' (newline), `\r' (carriage return)) and/or comments lines 
(lines starting with `#').  Following this white space, additional ASCII 
header information is given, separated by blanks and newlines. Binary data 
follows this ASCII header information. Note:  one (and only one) newline 
 <B>must</B> immediately follow the last component of ASCII header information 
before the start of the binary data. <P>
The <B>DAT</B> file format consists of the 
following information:  <blockquote> <P>
<B>DAT</B><I>X.X</I>  <BR>
<I>&lt;white space&gt;</I>  <BR>
<I>N dim</I>  <BR>
<I>min max</I>  <BR>
<I>v11 v12 v13</I>... 
 <BR>
<I>v21 v22 v23</I>...  <BR>
.  <BR>
.  <BR>
.  <BR>
 <P>
 </blockquote>
where <B>DAT</B> is the magic number, <I>X.X</I> is the version 
number, <I>&lt;white space&gt;</I> is white space and/or  comment lines,  <I>N</I>  is the number 
of vectors the file contains,      <I>dim</I>  is the number of components each 
vector contains (vector      dimension),  <I>min</I>  and  <I>max</I>  give the smallest 
and largest vector components, respectively, in the file, and  <I>vij</I>  is 
the jth component of the ith vector. <I>N</I>  and  <I>dim</I>  are integers.  <I>vij</I>, <I>min</I>, 
and <I>max</I> are doubles. <I>N</I>, <I>dim</I>, <I>min</I>, and <I></I> <I>max</I> are stored in ASCII,  <I>vij</I>  as 
binary (4 bytes, MSB first, see  <B><A HREF="QccFileWriteDouble.3.html">QccFileWriteDouble</B>(3)</A>
). No white space 
may exist between the  <I>vij</I>'s.  
<H2><A NAME="sect5" HREF="#toc5">ROUTINES </A></H2>
<B>QccDatasetInitialize()</B> should be 
called before any use of a <B>QccDataset</B> structure. <B>QccDatasetInitialize()</B> 
initializes the fields of <I>dataset</I> to the following values:  <blockquote><P>
 <I>filename</I>: 
<B>NULL</B> string  <BR>
<I>magic_num</I>: <B>QCCDATASET_MAGICNUM</B>  <BR>
<I>major_version</I>, <I>minor_version</I>: 
initialized to output of  <B><A HREF="QccGetQccPackVersion.3.html">QccGetQccPackVersion</B>(3)</A>
  <BR>
<I>num_vectors</I>: 0  <BR>
<I>vector_dimension</I>: 
0  <BR>
<I>access_block_size</I>: <B>QCCDATASET_ACCESSWHOLEFILE</B>  <BR>
<I>num_blocks_accessed</I>: 
0  <BR>
<I>min_val</I>, <I>max_val</I>: 0  <BR>
<I>vectors</I>: <B>NULL</B>  </blockquote>
<P>
<B>QccDatasetAlloc()</B> allocates storage 
space for the <I>vectors</I>  array of <I>dataset</I>. If  <I>vectors</I> is not <B>NULL</B>, <B>QccDatasetAlloc()</B> 
returns immediately without changing the state of any memory allocation. 
Otherwise, the  <I>vectors</I> array is allocated. The fields <I>access_block_size</I>, 
<I>num_vectors</I>, and <I>vector_dimension</I> must be defined prior to calling <B>QccDatasetAlloc()</B>. 
If <I>access_block_size</I> equals <B>QCCDATASET_ACCESSWHOLEFILE</B>, then space for 
<I>num_vectors</I> vectors is allocated; otherwise, space for <I>access_block_size</I> 
vectors is allocated. <P>
<B>QccDatasetFree()</B> frees the <I>vectors</I> array previously 
allocated by <B>QccDatasetAlloc() .</B> <P>
<B>QccDatasetGetBlockSize()</B> returns the block 
size of the <I>vectors</I> array of <I>dataset</I>. If <I>access_block_size</I> is <B>QCCDATASET_ACCESSWHOLEFILE</B>, 
<I>num_vectors</I> is returned; otherwise, <I>access_block_size</I> is returned. <P>
<B>QccDatasetPrint()</B> 
prints the contents of <I>dataset</I> to stdout. <P>
<B>QccDatasetCopy()</B> copies <I>dataset2</I> 
to <I>dataset1</I>. If <I>dataset1</I> has not been allocated prior to calling <B>QccDatasetCopy() 
</B> (as is evidenced by a <B>NULL</B> <I>dataset1</I>-&gt;<I>vectors</I> pointer), then <B>QccDatasetAlloc()</B> 
is called to allocate space for <I>dataset1</I> with the same  <I>block_size</I> and 
<I>vector_dimension</I> as <I>dataset2</I>. Otherwise (non-<B>NULL</B> <I>dataset1</I>-&gt;<I>vectors</I> pointer), 
it is assumed that sufficient space as already been allocated to <I>dataset1</I>. 
In either case, <B>QccDatasetCopy()</B> copies the <I>vectors</I> array of  <I>dataset2</I> 
to the  <I>vectors</I> array of  <I>dataset1</I> via <B><A HREF="QccMatrixCopy.3.html">QccMatrixCopy</B>(3)</A>
.  
<H2><A NAME="sect6" HREF="#toc6">RETURN VALUE 
</A></H2>
Except for <B>QccDatasetGetBlockSize()</B>, each of these routines return 0 upon 
successful completion, 1 on error.  
<H2><A NAME="sect7" HREF="#toc7">SEE ALSO </A></H2>
<B><A HREF="QccGetQccPackVersion.3.html">QccGetQccPackVersion</B>(3)</A>
, <B><A HREF="QccDatasetRead.3.html">QccDatasetRead</B>(3)</A>
, 
<B><A HREF="QccDatasetWrite.3.html">QccDatasetWrite</B>(3)</A>
, <B><A HREF="QccMatrixCopy.3.html">QccMatrixCopy</B>(3)</A>
, <B><A HREF="QccPack.3.html">QccPack</B>(3)</A>
  
<H2><A NAME="sect8" HREF="#toc8">AUTHOR </A></H2>
Copyright (C) 
1997-2016  James E. Fowler  <P>

<HR><P>
<A NAME="toc"><B>Table of Contents</B></A><P>
<UL>
<LI><A NAME="toc0" HREF="#sect0">NAME</A></LI>
<LI><A NAME="toc1" HREF="#sect1">SYNOPSIS</A></LI>
<LI><A NAME="toc2" HREF="#sect2">DESCRIPTION</A></LI>
<LI><A NAME="toc3" HREF="#sect3">DATA STRUCTURE</A></LI>
<LI><A NAME="toc4" HREF="#sect4">FILE FORMAT</A></LI>
<LI><A NAME="toc5" HREF="#sect5">ROUTINES</A></LI>
<LI><A NAME="toc6" HREF="#sect6">RETURN VALUE</A></LI>
<LI><A NAME="toc7" HREF="#sect7">SEE ALSO</A></LI>
<LI><A NAME="toc8" HREF="#sect8">AUTHOR</A></LI>
</UL>
<p><br><br><a href="http://sourceforge.net/projects/qccpack"><img src="http://sflogo.sourceforge.net/sflogo.php?group_id=5992&type=6" width="210" height="62" border="0" alt="Get QccPack at SourceForge.net. Fast, secure and Free Open Source software downloads" /></a></body></html>
