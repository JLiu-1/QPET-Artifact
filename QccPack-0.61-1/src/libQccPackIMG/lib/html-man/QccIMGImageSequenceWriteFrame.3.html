<!-- manual page source format generated by PolyglotMan v3.0.4, -->
<!-- available via anonymous ftp from ftp.cs.berkeley.edu:/ucb/people/phelps/tcltk/rman.tar.Z -->

<HTML>
<HEAD>
<TITLE>QccIMGImageSequenceWriteFrame.3</TITLE>
</HEAD>
<BODY>
<A HREF="#toc">Table of Contents</A><P>
 
<H2><A NAME="sect0" HREF="#toc0">NAME </A></H2>
QccIMGImageSequence -  data structure  <B>QccIMGImageSequence</B> for a 
sequence of images  
<H2><A NAME="sect1" HREF="#toc1">SYNOPSIS </A></H2>
<B>#include "libQccPack.h"</B>  <P>
<B>int QccIMGImageSequenceInitialize(QccIMGImageSequence 
*</B>image_sequence<B>);</B>  <BR>
<B>int QccIMGImageSequenceAlloc(QccIMGImageSequence *</B>image_sequence<B>);</B> 
 <BR>
<B>void QccIMGImageSequenceFree(QccIMGImageSequence *</B>image_sequence<B>);</B>  <BR>
<B>int 
QccIMGImageSequenceLength(const QccIMGImageSequence *</B>image_sequence<B>);</B> 
 <BR>
<B>int QccIMGImageSequenceSetCurrentFilename(QccIMGImageSequence *</B>image_sequence<B>);</B> 
 <BR>
<B>int QccIMGImageSequenceIncrementFrameNum(QccIMGImageSequence *</B>image_sequence<B>);</B> 
 <BR>
<B>int QccIMGImageSequenceFindFrameNums(QccIMGImageSequence *</B>image_sequence<B>);</B> 
 <BR>
<B>int QccIMGImageSequenceReadFrame(QccIMGImageSequence *</B>image_sequence<B>);</B> 
 <BR>
<B>int QccIMGImageSequenceWriteFrame(QccIMGImageSequence *</B>image_sequence<B>);</B> 
 <BR>
<B>int QccIMGImageSequenceStartRead(QccIMGImageSequence *</B>image_sequence<B>);</B> 
 <BR>
 
<H2><A NAME="sect2" HREF="#toc2">DESCRIPTION </A></H2>
QccPack provides data structure <B>QccIMGImageSequence</B> for 
representing a sequence of images. It is generally assumed that all images 
of the sequence have the same size and color depth. The frames of the image 
sequence are indexed by a "frame number" which runs consecutively from 
some starting frame number to an ending frame number. <P>
The main component 
of a <B>QccIMGImageSequence</B> structure is a <B><A HREF="QccIMGImage.3.html">QccIMGImage</B>(3)</A>
 structure that 
holds the current frame of the image sequence.  
<H2><A NAME="sect3" HREF="#toc3">DATA STRUCTURE </A></H2>
The <B>QccIMGImageSequence</B> 
data structure is defined as:  <blockquote><P>
 typedef struct <BR>
 { <BR>
   QccString filename; 
<BR>
   int start_frame_num; <BR>
   int end_frame_num; <BR>
   int current_frame_num; 
<BR>
   QccString current_filename; <BR>
   QccIMGImage current_frame; <BR>
 } QccIMGImageSequence; 
<BR>
  </blockquote>
<P>
The fields of <B>QccIMGImageSequence</B> are as follows: 
<DL>

<DT><I>filename</I>  </DT>
<DD>The filename 
template for the image sequence. </DD>

<DT><I>start_frame_num</I>, <I>end_frame_num</I>  </DT>
<DD>The numbers 
of the first and last frames of the image sequence. </DD>

<DT><I>current_frame_num</I>  
</DT>
<DD>The number of the current frame. </DD>

<DT><I>current_filename</I>  </DT>
<DD>The filename for the 
current frame. </DD>

<DT><I>current_frame</I>  </DT>
<DD>The current frame. </DD>
</DL>
 
<H2><A NAME="sect4" HREF="#toc4">FILE ACCESS </A></H2>
A <B>QccIMGImageSequence</B> 
structure holds only a single frame of the image sequence, and most routines 
that process image sequences will process a single frame at a time. Consequently, 
image sequences are normally read and written by specifying a filename 
template that is "filled in" with the current frame number to access the 
current frame. The <I>filename</I> field of the <B>QccIMGImageSequence</B> structure 
is the filename template, and it is a  <B><A HREF="printf.3.html">printf</B>(3)</A>
 format string that contains 
exactly one numerical descriptor (i.e., %d, %x, etc.). For example, if  <I>filename</I> 
is given as <I>imagefile.%03d.pgm</I>, then the image sequence will be accessed 
as <I>imagefile.000.pgm</I>, <I>imagefile.001.pgm</I>, <I>imagefile.002.pgm</I>, ..., assuming that 
the first frame of the sequence is frame number 0. The filenames, as well 
as the numerical descriptor in the filename template, must use zero padding 
on the left so that the files are processed in the correct numerical order. 
 
<H2><A NAME="sect5" HREF="#toc5">ROUTINES </A></H2>
<B>QccIMGImageSequenceInitialize()</B> should be called before any 
use of a <B>QccIMGImageSequence</B> structure. <B>QccIMGImageSequenceInitialize()</B> 
initializes the fields of <I>image_sequence</I> to the following values:  <blockquote><P>
 <I>filename</I>: 
<B>NULL</B> string  <BR>
<I>start_frame_num</I>: 0  <BR>
<I>end_frame_num</I>: 0  <BR>
<I>current_frame_num</I>: 
0  <BR>
<I>current_filename</I>: <B>NULL</B> string  </blockquote>
<P>
<B>QccIMGImageSequenceAlloc()</B> allocates 
storage space for  <I>image_sequence-&gt;current_frame</I> by calling <B><A HREF="QccIMGImageAlloc.3.html">QccIMGImageAlloc</B>(3)</A>
. 
The size of <I>image_sequence-&gt;current_frame</I> must be set via a call to <B><A HREF="QccIMGImageSetSize.3.html">QccIMGImageSetSize</B>(3)</A>
 
or <B><A HREF="QccIMGImageSetSizeYUV.3.html">QccIMGImageSetSizeYUV</B>(3)</A>
 prior to calling <B>QccIMGImageSequenceAlloc()</B>. 
<P>
<B>QccIMGImageSequenceFree()</B> frees <I>image_sequence-&gt;current_frame</I> via a call 
to <B><A HREF="QccIMGImageFree.3.html">QccIMGImageFree</B>(3)</A>
. <P>
<B>QccIMGImageSequenceLength()</B> calculates the number 
of frames of <I>image_sequence</I>. It is assumed that no frames are skipped between 
the starting frame and the ending frame, so the number of frames isa <I>image_sequence-&gt;end_frame_num</I> 
- <I>image_sequence-&gt;start_frame_num</I> + 1. <P>
<B>QccIMGImageSequenceSetCurrentFilename()</B> 
updates <I>image_sequence-&gt;current_filename</I> by placing the current frame number, 
<I>image_sequence-&gt;current_frame_num</I>, into the filename template, <I>image_sequence-&gt;filename</I>. 
This is done by having <I>image_sequence-&gt;current_filename</I> be the output of 
a call to <B><A HREF="QccStringSprintf.3.html">QccStringSprintf</B>(3)</A>
 wherein <I>image_sequence-&gt;filename</I> is the format 
string. <P>
<B>QccIMGImageSequenceIncrementFrameNum()</B> increments <I>image_sequence-&gt;current_frame_num</I> 
and then calls <B>QccIMGImageSequenceSetCurrentFilename()</B> to update the current 
filename. <P>
<B>QccIMGImageSequenceFindFrameNums()</B> determines the starting and 
ending frame numbers for the specified image sequence. Using the filename 
template, <I>image_sequence-&gt;filename</I>, <B>QccIMGImageSequenceFindFrameNums()</B> scans 
all the frame numbers matching the template, checking for the existence 
of a file with that frame number. <I>image_sequence-&gt;start_frame_num</I> is set 
to the first frame number for which a file exists. <I>image_sequence-&gt;end_frame_num</I> 
is set to the last frame number for which a file exists, such that all 
frame numbers between <I>image_sequence-&gt;start_frame_num</I> and <I>image_sequence-&gt;end_frame_num</I> 
correspond to existing files; i.e., the sequence of frames from the starting 
frame number to the ending frame number is consecutive with no skipped 
frames. <P>
<B>QccIMGImageSequenceReadFrame()</B> calls <B>QccIMGImageSequenceSetCurrentFilename()</B> 
to update the current filename, and then <B><A HREF="QccIMGImageRead.3.html">QccIMGImageRead</B>(3)</A>
 to read the 
current frame, with the current frame being returned in <I>image_sequence-&gt;current_frame</I>. 
<P>
<B>QccIMGImageSequenceWriteFrame()</B> calls <B>QccIMGImageSequenceSetCurrentFilename()</B> 
to update the current filename, and then <B><A HREF="QccIMGImageWrite.3.html">QccIMGImageWrite</B>(3)</A>
 to write 
<I>image_sequence-&gt;current_frame</I> to the current filename. <P>
<B>QccIMGImageSequenceStartRead()</B> 
calls <B>QccIMGImageSequenceReadFrame()</B> to read the first frame of the sequence, 
i.e., the one with frame number <I>image_sequence-&gt;start_frame_num</I>.  
<H2><A NAME="sect6" HREF="#toc6">RETURN VALUE 
</A></H2>
These routines return 0 on success, and 1 on failure, except <B>QccIMGImageSequenceLength()</B>, 
which returns the length of the image sequence.  
<H2><A NAME="sect7" HREF="#toc7">SEE ALSO </A></H2>
<B><A HREF="QccStringSprintf.3.html">QccStringSprintf</B>(3)</A>
, 
<B><A HREF="QccFileWriteDouble.3.html">QccFileWriteDouble</B>(3)</A>
, <B><A HREF="QccIMGImage.3.html">QccIMGImage</B>(3)</A>
, <B><A HREF="QccPackIMG.3.html">QccPackIMG</B>(3)</A>
, <B><A HREF="QccPack.3.html">QccPack</B>(3)</A>
 <P>
  
<H2><A NAME="sect8" HREF="#toc8">AUTHOR 
</A></H2>
Copyright (C) 1997-2016  James E. Fowler <P>
  <P>

<HR><P>
<A NAME="toc"><B>Table of Contents</B></A><P>
<UL>
<LI><A NAME="toc0" HREF="#sect0">NAME</A></LI>
<LI><A NAME="toc1" HREF="#sect1">SYNOPSIS</A></LI>
<LI><A NAME="toc2" HREF="#sect2">DESCRIPTION</A></LI>
<LI><A NAME="toc3" HREF="#sect3">DATA STRUCTURE</A></LI>
<LI><A NAME="toc4" HREF="#sect4">FILE ACCESS</A></LI>
<LI><A NAME="toc5" HREF="#sect5">ROUTINES</A></LI>
<LI><A NAME="toc6" HREF="#sect6">RETURN VALUE</A></LI>
<LI><A NAME="toc7" HREF="#sect7">SEE ALSO</A></LI>
<LI><A NAME="toc8" HREF="#sect8">AUTHOR</A></LI>
</UL>
<p><br><br><a href="http://sourceforge.net/projects/qccpack"><img src="http://sflogo.sourceforge.net/sflogo.php?group_id=5992&type=6" width="210" height="62" border="0" alt="Get QccPack at SourceForge.net. Fast, secure and Free Open Source software downloads" /></a></body></html>
