<!-- manual page source format generated by PolyglotMan v3.0.4, -->
<!-- available via anonymous ftp from ftp.cs.berkeley.edu:/ucb/people/phelps/tcltk/rman.tar.Z -->

<HTML>
<HEAD>
<TITLE>imgdist.1</TITLE>
</HEAD>
<BODY>
<A HREF="#toc">Table of Contents</A><P>
 
<H2><A NAME="sect0" HREF="#toc0">NAME </A></H2>
imgdist - calculate the distortion between two images  
<H2><A NAME="sect1" HREF="#toc1">SYNOPSIS </A></H2>
<B>imgdist</B> 
[<B>-vo</B>] [<B>-mse</B>] [<B>-snr</B>] [<B>-psnr</B>] [<B>-mae</B>] [<B>-cie</B>] [<B>-m</B> <I>mask</I>] <I>imgfile1</I> <I>imgfile2</I>  
<H2><A NAME="sect2" HREF="#toc2">OPTIONS 
</A></H2>

<DL>

<DT><B>-vo</B>  </DT>
<DD>Output only the value of the distortion (terse output). </DD>

<DT><B>-mse</B>  </DT>
<DD>Express 
the distortion in terms of MSE. </DD>

<DT><B>-snr</B>  </DT>
<DD>Express the distortion in terms of 
SNR. </DD>

<DT><B>-psnr</B>  </DT>
<DD>Express the distortion in terms of PSNR. </DD>

<DT><B>-mae</B>  </DT>
<DD>Express the distortion 
in terms of MAE. </DD>

<DT><B>-cie</B>  </DT>
<DD>Express the distortion in terms of an SNR based on 
the 1964 CIE color distortion measure in the CIE Modified UCS color space. 
 Requires that <I>imgfile1</I> and <I>imgfile2</I> be color images. </DD>

<DT><B>-m</B><I> mask</I>  </DT>
<DD>String. Name 
of file containing the transparency mask for shape-adaptive distortion. 
</DD>
</DL>
 
<H2><A NAME="sect3" HREF="#toc3">DESCRIPTION </A></H2>
<P>
<B>imgdist</B> prints the mean square error (MSE), signal-to-noise 
ratio (SNR), peak signal-to-noise ratio (PSNR), maximum absolute error (MAE), 
or CIE-based color SNR  between two image files, <I>imgfile1</I> and <I>imgfile2</I>, 
to stdout. <P>
The options <B>-mse</B>, <B>-snr</B>, <B>-psnr</B>, <B>-mae</B>, and <B>-cie</B> indicate in which form 
the distortion should be expressed. If none of these options are specified, 
 <B>imgdist</B> prints the distortion in all forms. <P>
If the option <B>-vo</B> is specified, 
then  <B>imgdist</B> prints a terse output, consisting of only the value of the 
distortion, to stdout.  One of the options <B>-mse</B>, <B>-snr</B>, <B>-psnr</B>, <B>-mae</B>, or <B>-cie</B> 
must be specified in this case. <P>
For the calculation of SNR and PSNR, <B>imgfile1</B> 
is considered to be the original signal;  <B>imgdist</B> thus finds the variance 
of <B>imgfile1</B> for use in the SNR calculation. For the calculation of PSNR, 
<B>imgdist</B> assumes that the peak-to-peak range of <B>imgfile1</B> is 255. <P>
If the image 
files are color, the MSE, SNR, PSNR, and MAE distortion calculations are 
performed separately for the Y, U, and V  components of the image.  The 
distortions for each image component are output in order. Additionally, 
for color images, a color SNR distortion based on the 1964 CIE formula 
for the distance between two colors is calculated (see <B><A HREF="QccIMGImageColorSNR.3.html">QccIMGImageColorSNR</B>(3)</A>
). 
<P>
The distortion calculation can be made "shape-adaptive" by specification 
of the <B>-m </B> option, in which case <I>mask</I> gives the name of an image file that 
indicates the transparency mask for the image. <I>mask</I> must be a grayscale 
image in which black indicates transparency, white indicates full opacity, 
and gray tones are degrees of translucence (see <B><A HREF="QccAlpha.3.html">QccAlpha</B>(3)</A>
). This transparency 
mask indicates which regions in <I>imgfile1</I> and  <I>imgfile2</I> are to be taken 
into consideration in the distortion calculation---pixels that are marked 
as transparent by <I>mask</I> are ignored and are not included in either the 
calculation of pixel differences or in the total count of pixels as used 
in the averaging of the differences. <I>mask</I> must be the same size as both 
<I>imgfile1</I> and <I>imgfile2</I>. Note: The CIE-based color SNR distortion cannot be 
calculated when a mask is specified.  
<H2><A NAME="sect4" HREF="#toc4">NOTES </A></H2>
Jain defines the SNR in terms 
of the log of the ratio of the signal variance to the MSE. However, Clarke 
indicates that, historically, the SNR has not been defined consistently, 
and describes slightly different variants, including the variance-based 
definition used by Jain, as well as the log of the ratio of the mean squared 
signal to the MSE, a definition popular with some other authors. Clarke 
cautions that one must be sure of the definition of the measure when comparing 
SNRs as the various definitions yield different values. <B>imgdist</B> follows 
Jain's definition of a variance-based SNR. <P>
Similarly, there are inconsistent 
definitions of the PSNR. The most logical definition involves the log of 
the square of the actual peak-to-peak range of the reference image to the 
MSE; this is the definition used by Jain. However, the PSNR is now nearly 
universally accepted as the log of the square of the <I>maximum</I> possible 
peak-to-peak range allowed by the pixels, a value that depends on the bit-depth 
of the image pixels and not the reference image itself. For example, an 
8-bit image has a possible peak-to-peak range of 255, although the actual 
range of any given image may be less than this. <B>imgdist</B> calculates PSNR 
using a peak-to-peak range of 255.  
<H2><A NAME="sect5" HREF="#toc5">SEE ALSO </A></H2>
<B><A HREF="QccIMGImageComponentMSE.3.html">QccIMGImageComponentMSE</B>(3)</A>
, 
<B><A HREF="QccIMGImageComponentMAE.3.html">QccIMGImageComponentMAE</B>(3)</A>
, <B><A HREF="QccIMGImageComponentShapeAdaptiveMSE.3.html">QccIMGImageComponentShapeAdaptiveMSE</B>(3)</A>
, <B><A HREF="QccIMGImageComponentShapeAdaptiveMAE.3.html">QccIMGImageComponentShapeAdaptiveMAE</B>(3)</A>
, 
<B><A HREF="QccIMGImageColorSNR.3.html">QccIMGImageColorSNR</B>(3)</A>
, <B><A HREF="QccPackIMG.3.html">QccPackIMG</B>(3)</A>
, <B><A HREF="QccPack.3.html">QccPack</B>(3)</A>
 <P>
 Anil K. Jain, "Fundamentals 
of Digital Image Processing." Englewood Cliffs, NJ: Prentice Hall, 1989. 
 (See Chapter 3). <P>
 Roger J. Clarke, "Digital Compression of Still Images 
and Video." London: Academic Press Ltd., 1995.  (see Section 1.2.7). <P>
  
<H2><A NAME="sect6" HREF="#toc6">AUTHOR 
</A></H2>
Copyright (C) 1997-2016  James E. Fowler <P>

<HR><P>
<A NAME="toc"><B>Table of Contents</B></A><P>
<UL>
<LI><A NAME="toc0" HREF="#sect0">NAME</A></LI>
<LI><A NAME="toc1" HREF="#sect1">SYNOPSIS</A></LI>
<LI><A NAME="toc2" HREF="#sect2">OPTIONS</A></LI>
<LI><A NAME="toc3" HREF="#sect3">DESCRIPTION</A></LI>
<LI><A NAME="toc4" HREF="#sect4">NOTES</A></LI>
<LI><A NAME="toc5" HREF="#sect5">SEE ALSO</A></LI>
<LI><A NAME="toc6" HREF="#sect6">AUTHOR</A></LI>
</UL>
<p><br><br><a href="http://sourceforge.net/projects/qccpack"><img src="http://sflogo.sourceforge.net/sflogo.php?group_id=5992&type=6" width="210" height="62" border="0" alt="Get QccPack at SourceForge.net. Fast, secure and Free Open Source software downloads" /></a></body></html>
