<!-- manual page source format generated by PolyglotMan v3.0.4, -->
<!-- available via anonymous ftp from ftp.cs.berkeley.edu:/ucb/people/phelps/tcltk/rman.tar.Z -->

<HTML>
<HEAD>
<TITLE>QccWAVtceEncode.3</TITLE>
</HEAD>
<BODY>
<A HREF="#toc">Table of Contents</A><P>
 
<H2><A NAME="sect0" HREF="#toc0">NAME </A></H2>
QccWAVtceEncode, QccWAVtceDecode - encode/decode an image using the 
TCE algorithm  
<H2><A NAME="sect1" HREF="#toc1">SYNOPSIS </A></H2>
<B>#include "libQccPack.h"</B>  <P>
<B>int QccWAVtceEncode(const 
QccIMGImageComponent *</B><I>image</I><B>, int </B><I>num_levels</I><B>, int </B><I>target_bit_cnt</I><B>, double 
</B><I>stepsize</I><B>, const QccWAVWavelet *</B><I>wavelet</I><B>, QccBitBuffer *</B><I>output_buffer</I><B>);</B> 
 <BR>
<B>int QccWAVtceDecodeHeader(QccBitBuffer *</B><I>input_buffer</I><B>, int *</B><I>num_levels</I><B>, 
int *</B><I>num_rows</I><B>, int *</B><I>num_cols</I><B>, double *</B><I>image_mean</I><B>, double *</B><I>stepsize</I><B>, int 
*</B><I>max_coefficient_bits</I><B>);</B>  <BR>
<B>int QccWAVtceDecode(QccBitBuffer *</B><I>input_buffer</I><B>, 
QccIMGImageComponent *</B><I>image</I><B>, int </B><I>num_levels</I><B>, const QccWAVWavelet *</B><I>wavelet</I><B>, 
double </B><I>image_mean</I><B>, double </B><I>stepsize</I><B>, int </B><I>max_coefficient_bits</I><B>, int </B><I>target_bit_cnt</I><B>);</B> 
 
<H2><A NAME="sect2" HREF="#toc2">DESCRIPTION </A></H2>
 
<H3><A NAME="sect3" HREF="#toc3">Encoding </A></H3>
<P>
<B>QccWAVtceEncode()</B> encodes an image component, <I>image</I>, 
using the TCE algorithm by Tian and Hemami. The TCE (tarp coding using 
classification to achieve embedding) algorithm is based on the tarp algorithm 
(see  <B><A HREF="QccWAVTarpEncode.3.html">QccWAVTarpEncode</B>(3)</A>
), but is designed to provide better rate-distortion 
performance when used in an embedded fashion; i.e., when decoding is performed 
at a rate less than that at which the bitstream was produced. See "ALGORITHM" 
below for more detail. <P>
<I>image</I> is the image component to be coded and <I>output_buffer</I> 
is the output bitstream. <I>output_buffer</I> must be of <B>QCCBITBUFFER_OUTPUT</B> type 
and opened via a prior call to <B><A HREF="QccBitBufferStart.3.html">QccBitBufferStart</B>(3)</A>
. <P>
<I>num_levels</I> gives the 
number of levels of dyadic wavelet decomposition to perform, and <I>wavelet</I> 
is the wavelet to use for decomposition. <P>
Two encoding modes are supported. 
Mode 1 consists of first applying a scalar quantizer to all DWT coefficients 
and then encoding the coefficients, bitplane by bitplane, until all bitplanes 
are encoded. Mode 2 consists of direct bitplane encoding without any scalar 
quantization of coefficients; in this mode, encoding stops when the target 
bitrate is reached. Mode 1 is selected by specifying a quantization <I>stepsize</I> 
that is greater than zero. If <I>stepsize</I> is less than or equal to zero, then 
Mode 2 is selected. In this case, a target encoding bit count, <I>target_bit_cnt</I> 
must be specified.  
<H3><A NAME="sect4" HREF="#toc4">Decoding </A></H3>
<P>
<B>QccWAVtceDecodeHeader()</B> decodes the header 
information in the bitstream in the input <I>input_buffer</I> (which must be 
of <B>QCCBITBUFFER_INPUT</B> type and opened via a prior call to <B><A HREF="QccBitBufferStart.3.html">QccBitBufferStart</B>(3)</A>
). 
The header information is returned in <I>num_levels</I> (number of levels of 
wavelet decomposition), <I>num_rows</I> (vertical size of image), <I>num_cols</I> (horizontal 
size of image), <I>image_mean</I> (the mean value of the original image), <I>stepsize</I> 
(quantization stepsize), and <I>max_coefficient_bits</I> (the number of bits 
used to represent the magnitude of the coefficient with largest absolute 
value). <P>
<B>QccWAVtceDecode()</B> decodes the bitstream <I>input_buffer</I>, producing 
the reconstructed image component, <I>image</I>. The bitstream must already have 
had its header read by a prior call to <B>QccWAVtceDecodeHeader()</B> (i.e., you 
call <B>QccWAVtceDecodeHeader() </B> first and then <B>QccWAVtceDecode()</B>).  
<H2><A NAME="sect5" HREF="#toc5">ALGORITHM 
</A></H2>
It is widely believed that, in the wavelet domain, coefficients  in a 
local neighborhood capture essential context information, such as edges 
and patterns, and that this information can facilitate compression. Many 
image coders exploit such local information in the form of  adaptive entropy 
coding. Alternatively, tarp filtering (see <B><A HREF="QccWAVtarpEncode.3.html">QccWAVtarpEncode</B>(3)</A>
) produces 
probability estimates through an IIR filtering technique on the bitplanes 
of  the wavelet coefficients.  While providing very good  performance when 
used in a nonembedded manner, the original  tarp coder performs less competitively 
when used in an  embedded manner, in spite of its operation on bitplanes. 
The reason is that  the underlying tarp filter is designed to follow a 
raster-scan encoding order; however, the use of fractional bitplanes (see 
Ordentlich <I>et al</I>.) provides better rate-distortion performance for embedding. 
Such fractional bitplanes require an encoding  order more flexible than 
a simple raster scan.  In the TCE algorithm, coefficients are classified 
according to statistical properties, and the tarp filter is run on only 
the single class on which it tends to generate  accurate probability estimates. 
<P>
In the TCE algorithm, <I>nonzero-parent</I> coefficients and <I>run</I> coefficients 
from the fractional-bitplane approach of Ordentlich <I>et al</I>. are combined 
to form a single class, the <I>zero-run</I> coefficients. For each bitplane, the 
TCE system then performs three passes:  1) adaptive arithmetic  coding 
of bits of <I>nonzero-neighbor</I> coefficients; 2) tarp  filtering and non-adaptive 
 arithmetic coding of <I>zero-run</I> coefficients; and 3) encoding of refinement 
 bits with an adaptive arithmetic coder. The sign bits of coefficients 
are coded when needed with a probability  of 0.5. The encoding/decoding 
ends when the target rate is reached.  Tian and Hemami describe several 
approaches to improving the probability estimate of the tarp filtering 
of the second pass.  
<H2><A NAME="sect6" HREF="#toc6">SEE ALSO </A></H2>
<B><A HREF="tceencode.1.html">tceencode</B>(1)</A>
, <B><A HREF="tcedecode.1.html">tcedecode</B>(1)</A>
, <B><A HREF="imgdwt.1.html">imgdwt</B>(1)</A>
, <B><A HREF="imgdist.1.html">imgdist</B>(1)</A>
, 
<B><A HREF="QccBitBuffer.3.html">QccBitBuffer</B>(3)</A>
, <B><A HREF="QccENTArithmeticEncode.3.html">QccENTArithmeticEncode</B>(3)</A>
, <B><A HREF="QccENTArithmeticDecode.3.html">QccENTArithmeticDecode</B>(3)</A>
, 
<B><A HREF="QccWAVSubbandPyramid.3.html">QccWAVSubbandPyramid</B>(3)</A>
, <B><A HREF="QccPackWAV.3.html">QccPackWAV</B>(3)</A>
, <B><A HREF="QccPackIMG.3.html">QccPackIMG</B>(3)</A>
, <B><A HREF="QccPack.3.html">QccPack</B>(3)</A>
 <P>
 <P>
C. Tian 
and S. S. Hemami, "An Embedded Image Coding System Based on Tarp Filter 
with Classification," in <I>Proceedings of the International Conference on 
Acoustics, Speech, and Signal Processing</I>, Montreal, Quebec, Canada, May 
2004, vol. 3, pp. 49-52. <P>
 E. Ordentlich, M. Weinberger, and G. Seroussi, "A Low-Complexity 
Modeling Approach for Embedded Coding of Wavelet Coefficients," in <I>Proceedings 
of the IEEE Data Compression Conference</I>, Snowbird, UT, March 2002, pp. 
23-32. <P>
  
<H2><A NAME="sect7" HREF="#toc7">AUTHOR </A></H2>
Written by Chao Tian, Cornell University <P>
 Copyright (C) 
1997-2016  James E. Fowler <P>

<HR><P>
<A NAME="toc"><B>Table of Contents</B></A><P>
<UL>
<LI><A NAME="toc0" HREF="#sect0">NAME</A></LI>
<LI><A NAME="toc1" HREF="#sect1">SYNOPSIS</A></LI>
<LI><A NAME="toc2" HREF="#sect2">DESCRIPTION</A></LI>
<UL>
<LI><A NAME="toc3" HREF="#sect3">Encoding</A></LI>
<LI><A NAME="toc4" HREF="#sect4">Decoding</A></LI>
</UL>
<LI><A NAME="toc5" HREF="#sect5">ALGORITHM</A></LI>
<LI><A NAME="toc6" HREF="#sect6">SEE ALSO</A></LI>
<LI><A NAME="toc7" HREF="#sect7">AUTHOR</A></LI>
</UL>
<p><br><br><a href="http://sourceforge.net/projects/qccpack"><img src="http://sflogo.sourceforge.net/sflogo.php?group_id=5992&type=6" width="210" height="62" border="0" alt="Get QccPack at SourceForge.net. Fast, secure and Free Open Source software downloads" /></a></body></html>
