<!-- manual page source format generated by PolyglotMan v3.0.4, -->
<!-- available via anonymous ftp from ftp.cs.berkeley.edu:/ucb/people/phelps/tcltk/rman.tar.Z -->

<HTML>
<HEAD>
<TITLE>QccWAVdcttceEncode.3</TITLE>
</HEAD>
<BODY>
<A HREF="#toc">Table of Contents</A><P>
 
<H2><A NAME="sect0" HREF="#toc0">NAME </A></H2>
QccWAVdcttceEncode, QccWAVdcttceDecode - encode/decode an image using 
the DCT-TCE algorithm  
<H2><A NAME="sect1" HREF="#toc1">SYNOPSIS </A></H2>
<B>#include "libQccPack.h"</B>  <P>
<B>int QccWAVdcttceEncode(const 
QccIMGImageComponent *</B><I>image</I><B>, int </B><I>num_levels</I><B>, int </B><I>target_bit_cnt</I><B>, double 
</B><I>stepsize</I><B>, int </B><I>overlap_sample</I><B>, double </B><I>smooth_factor</I><B>, QccBitBuffer *</B><I>output_buffer</I><B>);</B> 
 <BR>
<B>int QccWAVdcttceDecodeHeader(QccBitBuffer *</B><I>input_buffer</I><B>, int *</B><I>num_levels</I><B>, 
int *</B><I>num_rows</I><B>, int *</B><I>num_cols</I><B>, double *</B><I>image_mean</I><B>, double *</B><I>stepsize</I><B>, int 
*</B><I>max_coefficient_bits</I><B>, int *</B><I>overlap_sample</I><B>, double *</B><I>smooth_factor</I><B>);</B>  <BR>
<B>int 
QccWAVdcttceDecode(QccBitBuffer *</B><I>input_buffer</I><B>, QccIMGImageComponent *</B><I>image</I><B>, 
int </B><I>num_levels</I><B>, double </B><I>image_mean</I><B>, double </B><I>stepsize</I><B>, int </B><I>max_coefficient_bits</I><B>, 
int </B><I>target_bit_cnt</I><B>, int </B><I>overlap_sample</I><B>, double </B><I>smooth_factor</I><B>);</B>  
<H2><A NAME="sect2" HREF="#toc2">DESCRIPTION 
</A></H2>
 
<H3><A NAME="sect3" HREF="#toc3">Encoding </A></H3>
<P>
<B>QccWAVdcttceEncode()</B> encodes an image component, <I>image</I>, using 
the DCT-TCE algorithm by Shah <I>et al</I>. The DCT-TCE algorithm combines a block-based 
lapped biorthogonal  transform (LBT) based on the DCT with the embedded 
TCE coder. See "ALGORITHM" below for more detail. <P>
<I>image</I> is the image component 
to be coded and <I>output_buffer</I> is the output bitstream. <I>output_buffer</I> must 
be of <B>QCCBITBUFFER_OUTPUT</B> type and opened via a prior call to <B><A HREF="QccBitBufferStart.3.html">QccBitBufferStart</B>(3)</A>
. 
<P>
The LBT is controlled by the parameters <I>num_levels</I>, <I>overlap_sample</I>, and 
<I>smooth_factor</I>. <I>overlap_sample</I> and <I>smooth_factor</I> are parameters to the LBT's 
prefilter that is applied before its block-based DCT. Specifically, <I>overlap_sample</I> 
is the number of samples of overlap between DCT blocks; <I>smooth_factor</I> 
is the smoothing constant for the prefilter. <I>num_levels</I> specifies the block 
size of the block-based DCT that underlies the LBT. Specifically, the block 
size is 2^<I>num_levels</I> x 2^<I>num_levels</I>.<I></I> After the LBT coefficients are reorganized 
into the dyadic structure, the dyadic decomposition has  <I>num_levels</I> resolution 
levels. See "ALGORITHM" below for more detail. <P>
Two encoding modes are supported. 
Mode 1 consists of first applying a scalar quantizer to all transform 
coefficients and then encoding the coefficients, bitplane by bitplane, 
until all bitplanes are encoded. Mode 2 consists of direct bitplane encoding 
without any scalar quantization of coefficients; in this mode, encoding 
stops when the target bitrate is reached. Mode 1 is selected by specifying 
a quantization <I>stepsize</I> that is greater than zero. If <I>stepsize</I> is less 
than or equal to zero, then Mode 2 is selected. In this case, a target 
encoding bit count, <I>target_bit_cnt</I> must be specified. <P>
Since the input image 
is partitioned into blocks for the DCT that underlies the LBT, <I>image</I> must 
have size that is an integer multiple of the DCT block size in both directions. 
<B>QccWAVdcttceEncode()</B> returns in error if this is not the case.  
<H3><A NAME="sect4" HREF="#toc4">Decoding 
</A></H3>
<P>
<B>QccWAVdcttceDecodeHeader()</B> decodes the header information in the bitstream 
in the input <I>input_buffer</I> (which must be of <B>QCCBITBUFFER_INPUT</B> type and 
opened via a prior call to <B><A HREF="QccBitBufferStart.3.html">QccBitBufferStart</B>(3)</A>
). The header information 
is returned in <I>num_levels</I> (number of levels of wavelet decomposition), 
<I>num_rows</I> (vertical size of image), <I>num_cols</I> (horizontal size of image), 
<I>image_mean</I> (the mean value of the original image), <I>stepsize</I> (quantization 
stepsize), <I>max_coefficient_bits</I> (the number of bits used to represent 
the magnitude of the coefficient with largest absolute value), <I>overlap_sample</I> 
(the number of samples of overlap between DCT blocks), and <I>smooth_factor</I> 
(the smoothing factor to the pre/postfiler). <P>
<B>QccWAVdcttceDecode()</B> decodes 
the bitstream <I>input_buffer</I>, producing the reconstructed image component, 
<I>image</I>. The bitstream must already have had its header read by a prior call 
to <B>QccWAVdcttceDecodeHeader()</B> (i.e., you call <B>QccWAVdcttceDecodeHeader() 
</B> first and then <B>QccWAVdcttceDecode()</B>).  
<H2><A NAME="sect5" HREF="#toc5">ALGORITHM </A></H2>
The DCT-TCE algorithm 
couples the TCE image coder (Tian and Hemami, 2004) with the lapped biorthogonal 
transform (LBT) due to Tran <I>et al</I>. The forward LBT is implemented using 
a block-based discrete cosine transform (DCT) equipped with prefiltering 
that overlaps the DCT blocks. The prefilter reduces intra-block and inter-block 
correlation of the block-based coefficients, resulting in coefficients 
that are less correlated and thereby more suitable to the tarp filtering 
that underlies TCE. For the DCT-TCE algorithm, the forward and inverse LBT 
are accomplished via calls to <B><A HREF="QccIMGImageComponentLBT.3.html">QccIMGImageComponentLBT</B>(3)</A>
 and <B><A HREF="QccIMGImageComponentInverseLBT.3.html">QccIMGImageComponentInverseLBT</B>(3)</A>
, 
respectively. <P>
During encoding, after the LBT is performed, the LBT coefficients 
are rearranged into a pyramid structure similar to that of a dyadic DWT 
pyramid; this dyadic pyramid has <I>num_levels</I> resolution levels, where the 
block size of the DCT blocks is 2^<I>num_levels</I> x 2^<I>num_levels</I>.<I></I> At this point, 
the TCE image coder is applied to the resulting "subbands" in a manner 
identical to that of the original wavelet-based TCE coder. In decoding, 
after the TCE decoder assmebles the dyadic pyramid from the bitstream, 
the reconstructed LBT coefficients are rearranged into their original 
block-based organization before the inverse LBT is performed.  
<H2><A NAME="sect6" HREF="#toc6">SEE ALSO 
</A></H2>
<B><A HREF="dcttceencode.1.html">dcttceencode</B>(1)</A>
, <B><A HREF="dcttcedecode.1.html">dcttcedecode</B>(1)</A>
, <B><A HREF="QccIMGImageComponentLBT.3.html">QccIMGImageComponentLBT</B>(3)</A>
, <B><A HREF="QccIMGImageComponentInverseLBT.3.html">QccIMGImageComponentInverseLBT</B>(3)</A>
, 
<B><A HREF="QccPackWAV.3.html">QccPackWAV</B>(3)</A>
, <B><A HREF="QccPackIMG.3.html">QccPackIMG</B>(3)</A>
, <B><A HREF="QccPack.3.html">QccPack</B>(3)</A>
 <P>
 <P>
V. P. Shah, J. E. Fowler, and N. 
H. Younan, "Tarp Filtering of Block-Transform Coefficients for Embedded 
Image Coding," in <I>Proceedings of the IEEE International Conference on 
Acoustics, Speech, and Signal Processing</I>, Toulouse, France, May 2006, 
vol. 2, pp. 21-24. <P>
 C. Tian and S. S. Hemami, "An Embedded Image Coding System 
Based on Tarp Filter with Classification," in <I>Proceedings of the International 
Conference on Acoustics, Speech, and Signal Processing</I>, Montreal, Quebec, 
Canada, May 2004, vol. 3, pp. 49-52. <P>
 T. D. Tran, J. Liang, and C. Tu, "Lapped 
transform via time-domain pre- and post-filtering," <I>IEEE Transactions on 
Signal Processing</I>, vol. 51, no. 6, pp. 1557-1571, June 2003. <P>
 C. Tu and T. D. 
Tran, "Context-based entropy coding of block transform coefficients for 
image compression," <I>IEEE Transactions on Image Processing</I>, vol. 11, no. 
11, pp. 1271-1283, November 2002. <P>
  
<H2><A NAME="sect7" HREF="#toc7">AUTHOR </A></H2>
Written by Vijay Shah, Mississippi 
State University <P>
 Copyright (C) 1997-2016  James E. Fowler <P>

<HR><P>
<A NAME="toc"><B>Table of Contents</B></A><P>
<UL>
<LI><A NAME="toc0" HREF="#sect0">NAME</A></LI>
<LI><A NAME="toc1" HREF="#sect1">SYNOPSIS</A></LI>
<LI><A NAME="toc2" HREF="#sect2">DESCRIPTION</A></LI>
<UL>
<LI><A NAME="toc3" HREF="#sect3">Encoding</A></LI>
<LI><A NAME="toc4" HREF="#sect4">Decoding</A></LI>
</UL>
<LI><A NAME="toc5" HREF="#sect5">ALGORITHM</A></LI>
<LI><A NAME="toc6" HREF="#sect6">SEE ALSO</A></LI>
<LI><A NAME="toc7" HREF="#sect7">AUTHOR</A></LI>
</UL>
<p><br><br><a href="http://sourceforge.net/projects/qccpack"><img src="http://sflogo.sourceforge.net/sflogo.php?group_id=5992&type=6" width="210" height="62" border="0" alt="Get QccPack at SourceForge.net. Fast, secure and Free Open Source software downloads" /></a></body></html>
