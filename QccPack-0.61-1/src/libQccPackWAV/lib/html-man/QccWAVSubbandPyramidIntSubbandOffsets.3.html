<!-- manual page source format generated by PolyglotMan v3.0.4, -->
<!-- available via anonymous ftp from ftp.cs.berkeley.edu:/ucb/people/phelps/tcltk/rman.tar.Z -->

<HTML>
<HEAD>
<TITLE>QccWAVSubbandPyramidIntSubbandOffsets.3</TITLE>
</HEAD>
<BODY>
<A HREF="#toc">Table of Contents</A><P>
 
<H2><A NAME="sect0" HREF="#toc0">NAME </A></H2>
QccWAVSubbandPyramidInt - data structure for an integer-valued two-dimensional 
dyadic subband decomposition of an image  
<H2><A NAME="sect1" HREF="#toc1">SYNOPSIS </A></H2>
<B>#include "libQccPack.h"</B> 
 <P>
<B>int QccWAVSubbandPyramidIntInitialize(QccWAVSubbandPyramidInt *</B><I>subband_pyramid</I><B>);</B> 
 <BR>
<B>int QccWAVSubbandPyramidIntAlloc(QccWAVSubbandPyramidInt *</B><I>subband_pyramid</I><B>);</B> 
 <BR>
<B>void QccWAVSubbandPyramidIntFree(QccWAVSubbandPyramidInt *</B><I>subband_pyramid</I><B>);</B> 
 <BR>
<B>int QccWAVSubbandPyramidIntNumLevelsToNumSubbands(int </B><I>num_levels</I><B>);</B>  <BR>
<B>int 
QccWAVSubbandPyramidIntNumSubbandsToNumLevels(int </B><I>num_subbands</I><B>);</B>  <BR>
<B>int 
QccWAVSubbandPyramidIntCalcLevelFromSubband(int </B><I>subband</I><B>, int </B><I>num_levels</I><B>);</B> 
 <BR>
<B>int QccWAVSubbandPyramidIntSubbandSize(const QccWAVSubbandPyramidInt 
*</B><I>subband_pyramid</I><B>, int </B><I>subband</I><B>, int *</B><I>subband_num_rows</I><B>, int *</B><I>subband_num_cols</I><B>);</B> 
 <BR>
<B>int QccWAVSubbandPyramidIntSubbandOffsets(const QccWAVSubbandPyramidInt 
*</B><I>subband_pyramid</I><B>, int </B><I>subband</I><B>, int *</B><I>row_offset</I><B>, int *</B><I>col_offset</I><B>);</B>  <BR>
<B>void 
QccWAVSubbandPyramidIntSubbandToQccString(int </B><I>subband</I><B>, int </B><I>num_levels</I><B>, 
QccString </B><I>qccstring</I><B>);</B>  <BR>
<B>int QccWAVSubbandPyramidIntPrint(const QccWAVSubbandPyramidInt 
*</B><I>subband_pyramid</I><B>);</B>  
<H2><A NAME="sect2" HREF="#toc2">DESCRIPTION </A></H2>
QccPack provides data structure <B>QccWAVSubbandPyramidInt</B> 
for representing integer-valued two-dimensional subband decompositions of 
images. This subband-pyramid structure can be read from and written to  
<B>SBPI</B>-format files, or a <B>QccWAVSubbandPyramidInt</B> structure can be used without 
file input or output. <P>
The main component of a <B>QccWAVSubbandPyramidInt</B> structure 
is a matrix; this will be an array of wavelet coefficients and will usually 
be arranged in "dyadic" or "octave" decompositions (subbands) of several 
levels. These dyadic subbands are nested in the upper-left corner of the 
matrix.  The size of the subbands decreases by a factor of two with each 
increase in level of decomposition;  the frequency content of the subbands 
decreases with increasing subband level. <P>
Below is a diagram illustrating 
the composition of the subband-pyramid matrix.  Here "B" indicates the baseband 
subband, while "H", "V", and "D" indicate, respectively, vertical-, horizontal-, 
and diagonal-coefficient subbands.  The level, or scale, of the subband 
is the number trailing the letter; e.g., "H2" indicates the horizontal subband 
on the second level of decomposition. The diagram below shows a two-level 
(two-scale) decomposition.  <blockquote><P>
     ------------------------------ <BR>
     |      |      |              | <BR>
     | 
 B2  |  V2  |              | <BR>
     |      |      |              | <BR>
     ---------------      V1 
     | <BR>
     |      |      |              | <BR>
     |  H2  |  D2  |              | 
<BR>
     |      |      |              | <BR>
     ------------------------------ <BR>
     |             |              
| <BR>
     |             |              | <BR>
     |             |              | <BR>
   
  |     H1      |      D1      | <BR>
     |             |              | <BR>
     |  
           |              | <BR>
     |             |              | <BR>
     ------------------------------ <BR>
  </blockquote>
<P>
Often, 
a particular subband in the subband pyramid will be addressed with an 
integer subband number.  The subband number ranges from 0 (the baseband) 
to <I>L</I> * 3, where <I>L</I> is the number of levels of decomposition in the subband 
pyramid (the <I>num_levels</I> field in the data structure described below). The 
order of the subband number is baseband, then horizontal, vertical, and 
diagonal subbands in order at the highest level, followed by the horizontal, 
vertical, and diagonal subbands at the next highest level, etc.  For example, 
for the two-level subband pyramid illustrated above, the following diagram 
shows the corresponding subband numbers.  <blockquote><P>
     ------------------------------ <BR>
     |      |      |      
        | <BR>
     |   0  |   2  |              | <BR>
     |      |      |            
  | <BR>
     ---------------       5      | <BR>
     |      |      |              | <BR>
     |   1  |   3 
 |              | <BR>
     |      |      |              | <BR>
     ------------------------------ <BR>
     |           
  |              | <BR>
     |             |              | <BR>
     |             |  
            | <BR>
     |      4      |       6      | <BR>
     |             |      
        | <BR>
     |             |              | <BR>
     |             |          
    | <BR>
     ------------------------------ <BR>
  </blockquote>
 
<H2><A NAME="sect3" HREF="#toc3">DATA STRUCTURE </A></H2>
The <B>QccWAVSubbandPyramidInt</B> data structure 
is defined as:  <blockquote><P>
 typedef struct <BR>
 { <BR>
   QccString filename; <BR>
   QccString 
magic_num; <BR>
   int major_version; <BR>
   int minor_version; <BR>
   int num_levels; 
<BR>
   int num_rows; <BR>
   int num_cols; <BR>
   int origin_row; <BR>
   int origin_col; 
<BR>
   int subsample_pattern_row; <BR>
   int subsample_pattern_col; <BR>
   QccMatrixInt 
matrix; <BR>
 } QccWAVSubbandPyramidInt; <BR>
  </blockquote>
<P>
The fields of <B>QccWAVSubbandPyramidInt</B> 
are as follows: 
<DL>

<DT><I>filename</I>  </DT>
<DD>The name of the file. </DD>

<DT><I>magic_num</I>, <I>major_version</I>, 
<I>minor_version</I>  </DT>
<DD>The magic number and version of the file. </DD>

<DT><I>num_levels</I>  </DT>
<DD>The 
number of levels to the subband pyramid; i.e., the number of levels (scales) 
of decomposition. </DD>

<DT><I>num_rows</I>, <I>num_cols</I>  </DT>
<DD>The overall size of the matrix of 
coefficients. </DD>

<DT><I>origin_row</I>, <I>origin_col</I>  </DT>
<DD>Indicates the row and column indices 
of the upper-left corner of the matrix of coefficients. </DD>

<DT><I>subsample_pattern_row</I>, 
<I>subsample_pattern_col</I>  </DT>
<DD>Indicates the subsampling decomposition pattern 
along the rows and columns. </DD>

<DT><I>matrix</I>  </DT>
<DD>The matrix of coefficients. </DD>
</DL>
 
<H2><A NAME="sect4" HREF="#toc4">FILE FORMAT 
</A></H2>
For reading and writing structures of type <B>QccWAVSubbandPyramidInt</B>, QccPack 
provides the <B>SBPI</B> file format. This file format starts with an ASCII header 
followed by binary data. The ASCII header consists of magic-number/revision 
information followed by any amount of white space (space, `\t' (tab), `\n' (newline), 
`\r' (carriage return)) and/or comments lines (lines starting with `#').  Following 
this white space, additional ASCII header information is given, separated 
by blanks and newlines. Binary data follows this ASCII header information. 
Note:  one (and only one) newline  <B>must</B> immediately follow the last component 
of ASCII header information before the start of the binary data. <P>
The <B>SBPI</B> 
file format consists of the following information:  <blockquote> <P>
<B>SBPI</B><I>X.X</I>  <BR>
<I>&lt;white space&gt;</I> 
 <BR>
<I>L</I>  <BR>
<I>C R</I>  <BR>
<I>i11 i12</I>...  <BR>
<I>i21 i22</I>...  <BR>
.  <BR>
.  <BR>
.  <BR>
 <P>
 </blockquote>
where <B>SBPI</B> is the magic number, <I>X.X</I> 
is the version number, <I>&lt;white space&gt;</I> is white space and/or  comment lines, 
 <I>L</I> is the number of levels of nested decomposition in the subband pyramid, 
<I>C</I> is the number of columns of the subband-pyramid image, and <I>R</I> is the number 
of rows,  <I>imn</I> is the coefficient for the  <I>m</I>th row,  <I>n</I>th column of the 
subband-pyramid image. <I>L</I>, <I>C</I>, and <I>R</I> are stored in ASCII.  The image itself, 
<I>imn</I>, is stored as binary integer numbers (4 bytes each, MSB first, see 
<B><A HREF="QccFileWriteInt.3.html">QccFileWriteInt</B>(3)</A>
). The value of  <I>L</I> gives the number of nested (dyadic) 
decompositions in the  matrix of coefficients. If  <I>L</I> = 0, the image has 
not been decomposed; if  <I>L</I> &gt;= 1, then the  <I>L</I>  dyadic decompositions are 
recursively nested in the upper-left corner of the coefficient matrix.  

<H2><A NAME="sect5" HREF="#toc5">ROUTINES </A></H2>
<B>QccWAVSubbandPyramidIntInitialize()</B> should be called before any 
use of a <B>QccWAVSubbandPyramidInt</B> structure. <B>QccWAVSubbandPyramidIntInitialize()</B> 
initializes the fields of <I>subband_pyramid</I> to the following values:  <blockquote><P>
 <I>filename</I>: 
<B>NULL</B> string  <BR>
<I>magic_num</I>: <B>QCCSUBBANDPYRAMIDINT_MAGICNUM</B>  <BR>
<I>major_version</I>, 
<I>minor_version</I>: initialized to output of  <B><A HREF="QccGetQccPackVersion.3.html">QccGetQccPackVersion</B>(3)</A>
  <BR>
<I>num_levels</I>: 
0  <BR>
<I>num_rows</I>: 0  <BR>
<I>num_cols</I>: 0  <BR>
<I>origin_row</I> 0  <BR>
<I>origin_col</I> 0  <BR>
<I>subsample_pattern_row</I>: 
0  <BR>
<I>subsample_pattern_col</I>: 0  <BR>
<I>matrix</I>: <B>NULL</B>  </blockquote>
<P>
<B>QccWAVSubbandPyramidIntAlloc()</B> 
allocates storage space for  <I>subband_pyramid-&gt;matrix</I>. If  <I>subband_pyramid-&gt;matrix</I> 
is not <B>NULL</B>, <B>QccWAVSubbandPyramidIntAlloc()</B> returns immediately without 
changing the state of any memory allocation. Otherwise, the  <I>subband_pyramid-&gt;matrix</I> 
array is allocated. The fields <I>subband_pyramid-&gt;num_rows</I> and <I>subband_pyramid-&gt;num_cols</I> 
must be set prior to calling <B>QccWAVSubbandPyramidIntAlloc()</B>. <P>
<B>QccWAVSubbandPyramidIntFree()</B> 
frees the <I>subband_pyramid-&gt;matrix</I> array previously allocated by <B>QccWAVSubbandPyramidIntAlloc()</B>. 
<P>
<B>QccWAVSubbandPyramidIntNumLevelsToNumSubbands()</B> calculates the number 
of subbands in a dyadic subband pyramid with <I>num_levels</I>  levels. This value 
is  <I>num_levels</I> * 3 + 1. <P>
<B>QccWAVSubbandPyramidIntNumSubbandsToNumLevels()</B> 
calculates the number of levels in a dyadic subband pyramid with <I>num_subbands</I> 
 subbands. <P>
<B>QccWAVSubbandPyramidIntCalcLevelFromSubband()</B> calculates the 
level of the specified <I>subband</I> in a subband pyramid with <I>num_levels</I> levels. 
Here, <I>subband</I> gives the subband number of the subband in the pyramid (see 
diagrams above). <P>
<B>QccWAVSubbandPyramidIntSubbandSize()</B> calculates the size 
of the specified <I>subband</I> in  <I>subband_pyramid</I>. The size of the subband is 
returned in <I>subband_num_rows</I> and <I>subband_num_cols</I>, which must be allocated 
prior to calling <B>QccWAVSubbandPyramidIntSubbandSize()</B>. <P>
<B>QccWAVSubbandPyramidIntSubbandOffsets()</B> 
calculates the location in <I>subband_pyramid-&gt;matrix</I> of the specified <I>subband</I>. 
The row and column offsets (relative to the upper-left corner of <I>subband_pyramid-&gt;matrix</I>) 
are returned in <I>row_offset</I> and <I>col_offset</I>, respectively, which must be 
allocated prior to calling <B>QccWAVSubbandPyramidIntSubbandOffsets()</B>. <P>
<B>QccWAVSubbandPyramidIntSubbandToQccString()</B> 
converts the specified <I>subband</I> number into a descriptive string giving 
the type of subband (horizontal, vertical, diagonal, or baseband) and 
the level at which the subband resides in the subband pyramid, in a manner 
exemplified by the diagrams above. The string is returned in <I>qccstring</I>, 
which must be allocated prior to calling <B>QccWAVSubbandPyramidIntSubbandToQccString()</B>. 
<P>
<B>QccWAVSubbandPyramidIntPrint()</B> prints the contents of <I>subband_pyramid</I> 
to stdout.  
<H2><A NAME="sect6" HREF="#toc6">RETURN VALUE </A></H2>
These routines return 0 on success, and 1 on failure. 
 
<H2><A NAME="sect7" HREF="#toc7">SEE ALSO </A></H2>
<B><A HREF="QccWAVSubbandPyramidIntDWT.3.html">QccWAVSubbandPyramidIntDWT</B>(3)</A>
, <B><A HREF="QccWAVSubbandPyramidIntInverseDWT.3.html">QccWAVSubbandPyramidIntInverseDWT</B>(3)</A>
, 
<B><A HREF="QccPackWAV.3.html">QccPackWAV</B>(3)</A>
, <B><A HREF="QccPack.3.html">QccPack</B>(3)</A>
 <P>
A. R. Calderbank, I. Daubechies, W. Sweldens, B.-L. 
Yeo, "Lossless Image Compression Using Integer to Integer Wavelet Transforms", 
in <I>Proceedings of the International Conference on Image Processing</I>, Lausanne, 
Switzerland, pp. 596-599, September 1997. <P>
 Z. Xiong, X. Wu, S. Cheng, J. Hua, 
"Lossy-to-Lossless Compression of Medical Volumetric Data Using Three-Dimensional 
Integer Wavelet Transforms," <I>IEEE Transactions on Medical Imaging</I>, vol. 
22, pp. 459-470, March 2003. <P>
 M. Antonini, M. Barlaud, P. Mathieu, and I. Daubechies, 
"Image Coding Using Wavelet Transform," <I>IEEE Transactions on Image Processing</I>, 
vol. 1, pp. 205-220, April 1992.  
<H2><A NAME="sect8" HREF="#toc8">AUTHOR </A></H2>
Copyright (C) 1997-2016  James E. Fowler 
<P>
  <P>

<HR><P>
<A NAME="toc"><B>Table of Contents</B></A><P>
<UL>
<LI><A NAME="toc0" HREF="#sect0">NAME</A></LI>
<LI><A NAME="toc1" HREF="#sect1">SYNOPSIS</A></LI>
<LI><A NAME="toc2" HREF="#sect2">DESCRIPTION</A></LI>
<LI><A NAME="toc3" HREF="#sect3">DATA STRUCTURE</A></LI>
<LI><A NAME="toc4" HREF="#sect4">FILE FORMAT</A></LI>
<LI><A NAME="toc5" HREF="#sect5">ROUTINES</A></LI>
<LI><A NAME="toc6" HREF="#sect6">RETURN VALUE</A></LI>
<LI><A NAME="toc7" HREF="#sect7">SEE ALSO</A></LI>
<LI><A NAME="toc8" HREF="#sect8">AUTHOR</A></LI>
</UL>
<p><br><br><a href="http://sourceforge.net/projects/qccpack"><img src="http://sflogo.sourceforge.net/sflogo.php?group_id=5992&type=6" width="210" height="62" border="0" alt="Get QccPack at SourceForge.net. Fast, secure and Free Open Source software downloads" /></a></body></html>
