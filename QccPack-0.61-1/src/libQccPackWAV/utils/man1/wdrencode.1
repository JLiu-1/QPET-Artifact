.TH WDRENCODE 1 "QCCPACK" ""
.SH NAME
wdrencode, wdrdecode \- encode/decode image from/to PGM/PPM format using the original Wavelet Difference Reduction (WDR) algorithm
.SH SYNOPSIS
.B wdrencode 
.RB "[\|" \-w 
.IR wavelet "\|]"
.RB "[\|" \-b
.IR boundary "\|]" 
.RB "[\|" \-pw
.IR pcpfile "\|]" 
.RB "[\|" \-nl
.IR levels "\|]" 
.RB "[\|" \-m
.IR mask "\|]" 
.RB "[\|" \-vo "\|]"
.I rate imgfile bitstream

.B wdrdecode 
.RB "[\|" \-w 
.IR wavelet "\|]" 
.RB "[\|" \-b
.IR boundary "\|]" 
.RB "[\|" \-pw
.IR pcpfile "\|]" 
.RB "[\|" \-m
.IR mask "\|]"
.RB "[\|" \-r
.IR  rate "\|]"
.I bitstream imgfile
.SH DESCRIPTION
.TP
.BI \-w " wavelet"
String. Name of the wavelet file
.RB ( FBK
or 
.B LFT
for mat); default = "CohenDaubechiesFeauveau.9-7.lft".
.TP
.BI \-b " boundary"
String. Type of boundary extension; default = "symmetric".
.TP
.BI \-pw " pcpfile"
String. Name of file containing perceptual weights.
.TP
.BI \-nl " levels"
Integer. Number of levels of dyadic decomposition; default value is 5.
.TP
.BI \-m " mask"
String. Name of file containing the transperancy mask for shape-adaptive
coding.
.TP
.BI \-r " rate"
Float. Rate at which to stop decoding. Default is to decode until
end of input bitstream is reached.
.TP
.B \-vo
Print only the values of the rate to stdout (terse output); default is verbose output.
.SH DESCRIPTION
.B wdrencode
encodes an image, 
.IR imgfile , 
using the Wavelet Difference Reduction (WDR) algorithm by Tian and Wells.
.LP
The transform is either the usual discrete
wavelet transform (DWT) or a shape-adaptive
DWT (SA-DWT); see
.BR imgdwt (1)
for complete details.
Option
.B \-w
specifies the wavelet, 
option
.B \-b
specifies the boundary extension, and option
.B \-pw
indicates whether perceptual weighting is to be used.
The
.B \-m
option gives the image file to be used as a transparency mask
for the SA-DWT.
.I mask
must be a grayscale image
in which black in this image indicates transparency, white
indicates full opacity, and gray tones are degrees of
translucence
(see
.BR QccAlpha (3)).
If the
.B \-m
option is not given, the usual DWT is used.
.LP
The desired bitrate of the output
.I bitstream
is specified by
.IR rate ,
which is expressed in bits per pixel of the original image.
.B wdrencode
normally prints to stdout a small amount of information
concerning this target bitrate and the actual bitrate achieved.
Usually these rates are identical, but may differ slightly.
If the 
.B \-vo
(value-only) option is given, all printed output is suppressed except for
the actual bitrate.
.LP
.B wdrdecode
performs the corresponding decoding using the WDR algorithm, decoding
the
.I bitstream
made by
.B wdrencode
and producing
a reconstructed image,
.IR imgfile .
For sane results, 
.IR wavelet ,
.IR boundary ,
and
.I pcpfile
should be the same as they were for
.BR wdrencode ,
and
.I mask
should be the same if an SA-DWT was used as the transform.
If a decoding rate is specified with the
.B \-r
option, then
.B wdrdecode
stops decoding when
.I rate
bits per pixel from the input bitstream
have been decoded. Otherwise, decoding stops when the
end of the input bitstream is reached.
.LP
.B wdrencode
and
.B wdrdecode
call
.BR QccWAVwdrEncode (3) 
and 
.BR QccWAVwdrDecode (3), 
respectively, to perform WDR encoding and decoding. Refer to the man pages of these functions for more information.
.SH "SEE ALSO"
.BR QccWAVwdrEncode (3),
.BR QccWAVwdrDecode (3),
.BR imgdwt (1),
.BR imgdist (1),
.BR QccBitBuffer (3),
.BR QccENTArithmeticEncode (3),
.BR QccENTArithmeticDecode (3),
.BR QccWAVPerceptualWeights (3),
.BR QccWAVSubbandPyramid (3),
.BR QccPackWAV (3),
.BR QccPackIMG (3),
.BR QccPack (3)

J. Tian and R. O. Wells, Jr.,
"Embedded Image Coding Using Wavelet Difference Reduction", in
.IR "Wavelet Image and Video Compression" , 
P. N. Topiwala, Ed., pp. 289-302,
Kluwer Academic Publishers, Norwell, MA, 1998.

.SH AUTHOR
Written by Yufei Yuan <yuanyufei@hotmail.com>

Copyright (C) 1997-2016  James E. Fowler
.\"  The programs herein are free software; you can redistribute them and/or
.\"  modify them under the terms of the GNU General Public License
.\"  as published by the Free Software Foundation; either version 2
.\"  of the License, or (at your option) any later version.
.\"  
.\"  These programs are distributed in the hope that they will be useful,
.\"  but WITHOUT ANY WARRANTY; without even the implied warranty of
.\"  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\"  GNU General Public License for more details.
.\"  
.\"  You should have received a copy of the GNU General Public License
.\"  along with these programs; if not, write to the Free Software
.\"  Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
