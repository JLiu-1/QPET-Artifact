.TH MAKE_NOISE_IMAGE 1 "QCCPACK" ""
.SH NAME
make_noise_image \- make a noise image for perceptual testing
.SH SYNOPSIS
.B make_noise_image
.RB "[\|" \-f
.IR  wavelet "\|]"
.RB "[\|" \-b
.IR  boundary "\|]"
.RB "[\|" \-nl
.IR levels "\|]"
.RB "[\|" \-s 
.IR subband "\|]"
.RB "[\|" \-w
.IR image_width "\|]"
.RB "[\|" \-h
.IR image_height "\|]"
.RB "[\|" \-b
.IR background "\|]"
.RB "[\|" \-n
.IR noise_variance "\|]"
.I imgfile
.SH OPTIONS
.TP
.BI \-w " wavelet"
String.
Name of the wavelet file
.RB ( FBK
or
.B LFT
format); default = "CohenDaubechiesFeauveau.9-7.lft"
.TP
.BI \-b " boundary"
String. Type of boundary extension; default = "symmetric".
.TP
.BI \-nl " levels"
Integer.  Number of levels of dyadic decomposition.  Default is 1.
.TP
.BI \-s " subband"
Integer. Number of the subband in which to make the noise image. Default is
0 (the low-frequency, baseband subband).
.TP
.BI \-w " image_width"
Integer. Width (number of columns) of the output image
.IR imgfile .
Default is 512.
.TP
.BI \-h " image_height"
Integer. Height (number of rows) of the output image,
.IR imgfile .
Default is 512.
.TP
.BI \-b " background"
Float. Background level of image; i.e., the mean added to the image after
subband reconstruction.  Default value is 127.
.TP
.BI \-n " noise_variance"
Float. Variance of the noise. Default value is 1.0.
.SH DESCRIPTION
.LP
.B make_noise_image
creates an image with noise to be used in perceptual tests.
.B make_noise_image
creates an image consisting of a solid background (the value of which
is given by the
.B \-b
option) with a square region of noise added to the center.

More precisely,
.B make_noise_image
creates a subband pyramid of depth specified by
.I levels
(option
.BR \-nl )
and initializes it to all zeros.
Then, noise of variance
.I noise_variance
(option
.BR \-n )
is added in a square in the center of the subband specified by
option
.BR \-s .
.B make_noise_image
then performs a 2D separable wavelet reconstruction
of the subband pyramid (see
.BR imgidwt (1)).
Finally, mean value
.I background
(option
.BR \-b )
is added to the entire image, and the result is output to
.BR imgfile ,
a PGM image.
.LP
The noise added to the image is zero-mean, uniform, and has variance
.IR noise_variance ,
i.e., the range of the noise  is
.I -c
to
.I c
where
.IR "c = " sqrt(3 " * noise_variance" ).
.LP
.B make_noise_image
is intended to be used in the determining of perceptual weightings as
outlined in Jayant et al. and in Hontcsh et al.
.B make_noise_image
can be used to output images at a number of noise levels, with
a number of background intensities, and with noise in different subbands
of the pyramidal subband decomposition.  An observer 
can then determine, visually,
which level of noise gives 
.I "just-noticeable distortion"
(JND) in each subband for each background intensity.
After a series of such perceptual experiments, the frequency and brightness
sensitivity as a function of the subband number (i.e., frequency)
may be determined.
.LP
Note: If 
.I levels
is zero, no subband reconstruction is performed.  In this case, noise is
added to the baseband subband (i.e., the only band), the mean is added, and the result is output directly.
.SH "SEE ALSO"
.BR imgidwt (1),
.BR QccPackWAV (3),
.BR QccPackIMG (3),
.BR QccPack (3)

N. Jayant, J. Johnston, and R. Safranek,
"Signal Compression Based on Models of Human Perception,"
.IR "Proceedings of the IEEE" ,
vol. 81, pp. 1385-1422, October 1993.

I. Hontsch, L. J. Karam, and R. J. Safranek,
"A Perceptually Tuned Embedded Zerotree Image Coder,"
.IR "Proceedings of the IEEE International Conference on Image Processing" ,
vol. 1, pp. 41-44, October 1997.

M. Antonini, M. Barlaud, P. Mathieu, and I. Daubechies,
"Image Coding Using Wavelet Transform,"
.IR "IEEE Transactions on Image Processing" ,
vol. 1, pp. 205-220, April 1992.

.SH AUTHOR
Copyright (C) 1997-2016  James E. Fowler
.\"  The programs herein are free software; you can redistribute them and/or
.\"  modify them under the terms of the GNU General Public License
.\"  as published by the Free Software Foundation; either version 2
.\"  of the License, or (at your option) any later version.
.\"  
.\"  These programs are distributed in the hope that they will be useful,
.\"  but WITHOUT ANY WARRANTY; without even the implied warranty of
.\"  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\"  GNU General Public License for more details.
.\"  
.\"  You should have received a copy of the GNU General Public License
.\"  along with these programs; if not, write to the Free Software
.\"  Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
