<!-- manual page source format generated by PolyglotMan v3.0.4, -->
<!-- available via anonymous ftp from ftp.cs.berkeley.edu:/ucb/people/phelps/tcltk/rman.tar.Z -->

<HTML>
<HEAD>
<TITLE>QccENTHuffmanTableCreateDecodeTable.3</TITLE>
</HEAD>
<BODY>
<A HREF="#toc">Table of Contents</A><P>
 
<H2><A NAME="sect0" HREF="#toc0">NAME </A></H2>
QccENTHuffmanTableCreateDecodeTable, QccENTHuffmanTableCreateEncodeTable 
-  create <B>QccENTHuffmanTable</B> tables for Huffman decoding and encoding  

<H2><A NAME="sect1" HREF="#toc1">SYNOPSIS </A></H2>
<B>#include "libQccPack.h"</B>  <P>
<B>int QccENTHuffmanTableCreateDecodeTable(QccENTHuffmanTable 
*</B><I>table</I><B>);</B>  <BR>
<B>int QccENTHuffmanTableCreateEncodeTable(QccENTHuffmanTable *</B><I>table</I><B>);</B> 
 
<H2><A NAME="sect2" HREF="#toc2">DESCRIPTION </A></H2>
The routines <B>QccENTHuffmanTableCreateDecodeTable()</B> and <B>QccENTHuffmanTableCreateEncodeTable()</B> 
create tables for Huffman decoding and encoding, respectively, assuming 
that one already knows the distribution of the codeword lengths, that 
is, the number of codewords for each codeword length. To create Huffman 
tables for encoding/decoding from a probability distribution, use <B><A HREF="QccENTHuffmanDesign.3.html">QccENTHuffmanDesign</B>(3)</A>
. 
<P>
A number of arrays and array lengths internal to <I>table</I> must be set before 
calling these routines. <I>table</I>-&gt;<I>num_codewords_list</I> is a list of the number 
of codewords of each length. The first entry in the list, <I>table</I>-&gt;<I>num_codewords_list</I>[0], 
gives the number of codewords with length equal to one bit; the second 
entry in the list, <I>table</I>-&gt;<I>num_codewords_list</I>[1], gives the number of codewords 
with length equal to two bits; etc.  A zero indicates that there are no 
codewords of a particular length. <I>table</I>-&gt;<I>num_codewords_list_length</I> is the 
number of entries in <I>table</I>-&gt;<I>num_codewords_list</I>; <I>table</I>-&gt;<I>num_codewords_list_length</I> 
must be greater than zero, but less than or equal to <B>QCCENTHUFFMAN_MAXCODEWORDLEN</B> 
(defined to be 31 bits). If <I>table</I>-&gt;<I>num_codewords_list_length</I> is less than 
<B>QCCENTHUFFMAN_MAXCODEWORDLEN</B>, it is assumed that the number of codewords 
of lengths between <I>table</I>-&gt;<I>num_codewords_list_length</I> and <B>QCCENTHUFFMAN_MAXCODEWORDLEN</B> 
is zero. <P>
<I>table</I>-&gt;<I>symbol_list</I> lists the symbols, in order, corresponding to 
the codewords implied by <I>table</I>-&gt;<I>num_codewords_list</I>. <I>table</I>-&gt;<I>symbol_list_length</I> 
gives the length of the <I>table</I>-&gt;<I>symbol_list</I> list. <I>table</I>-&gt;<I>symbol_list_length</I> 
must be exactly equal to the sum of all the lengths in <I>table</I>-&gt;<I>num_codewords_list</I> 
for <I>table</I>-&gt;<I>num_codewords_list</I> and <I>table</I>-&gt;<I>symbol_list</I> to be consistent with 
each other; <B>QccENTHuffmanTableCreateDecodeTable()</B> checks for this and 
returns an error if the two tables are not consistent in this way. <P>
<B>QccENTHuffmanTableCreateDecodeTable()</B> 
returns a Huffman table with <I>table</I>-&gt;<I>table_type</I> set to <B>QCCENTHUFFMAN_DECODETABLE</B>, 
which means that <I>table</I> is suitable for Huffman decoding with <B><A HREF="QccENTHuffmanDecode.3.html">QccENTHuffmanDecode</B>(3)</A>
. 
<P>
<B>QccENTHuffmanTableCreateEncodeTable()</B> returns a Huffman table with <I>table</I>-&gt;<I>table_type</I> 
set to <B>QCCENTHUFFMAN_ENCODETABLE</B>, which means that <I>table</I> is suitable for 
Huffman encoding with <B><A HREF="QccENTHuffmanEncode.3.html">QccENTHuffmanEncode</B>(3)</A>
. <B>QccENTHuffmanTableCreateEncodeTable()</B> 
first calls <B>QccENTHuffmanTableCreateDecodeTable()</B> to generate a decoding 
table, then reorganizes the decoding table so as to provide a lookup table 
indexed by the symbol value for quick encoding. Typically, this encoding-table 
format occupies much more memory than the corresponding decoding table. 
<P>
Both <B>QccENTHuffmanTableCreateEncodeTable()</B> and <B>QccENTHuffmanTableCreateDecodeTable()</B> 
allocate space for <I>table</I>-&gt;<I>table</I> via a call to <B><A HREF="QccENTHuffmanTableAlloc.3.html">QccENTHuffmanTableAlloc</B>(3)</A>
, 
so this should not be done prior to calling these routines.  
<H2><A NAME="sect3" HREF="#toc3">EXAMPLE </A></H2>
Suppose 
we have the following declarations  <blockquote><P>
 QccENTHuffmanTable table; <BR>
 int num_codewords_list[] 
= { 0, 2, 1, 2 }; <BR>
 int symbol_list[] = { 'a', 'b', 'c', 'd', 'e' }; <BR>
 <P>
 table.num_codewords_list_length 
= 4; <BR>
 table.symbol_list_length = 5; <BR>
 table.num_codewords_list = num_codewords_list; 
<BR>
 table.symbol_list = symbol_list; <BR>
  </blockquote>
Then <B>QccENTHuffmanTableCreateDecodeTable()</B> 
will assign the following Huffman codewords to the symbols:  <blockquote><P>
   Symbol 
    Codeword Length      Codeword <BR>
 ------------------------------------------- <BR>
    'a'              2              
  00 <BR>
    'b'              2                01 <BR>
    'c'              3      
          100 <BR>
    'd'              4                1010 <BR>
    'e'          
    4                1011 <BR>
 <P>
  </blockquote>
Note that <I>num_codewords_list</I> specifies zero 
length-1 codewords, two length-2 codewords, one length-3 codeword, and two 
length-4 codewords, and that the <I>symbol_list</I> symbols are given in the order 
corresponding to the lengths; i.e., both symbols 'a' and 'b' are to be assigned 
length-2 codewords.  
<H2><A NAME="sect4" HREF="#toc4">NOTE </A></H2>
These routines are based upon the implementations 
of Huffman encoding and decoding suggested in Annexes C &amp; F of the JPEG 
standard, ISO/IEC 10918.  
<H2><A NAME="sect5" HREF="#toc5">RETURN VALUE </A></H2>
These routines return 0 on success, 
and 1 on failure.  
<H2><A NAME="sect6" HREF="#toc6">SEE ALSO </A></H2>
<B><A HREF="QccENTHuffmanDecode.3.html">QccENTHuffmanDecode</B>(3)</A>
, <B><A HREF="QccENTHuffmanEncode.3.html">QccENTHuffmanEncode</B>(3)</A>
, 
<B><A HREF="QccENTHuffmanDesign.3.html">QccENTHuffmanDesign</B>(3)</A>
, <B><A HREF="QccENTHuffmanTable.3.html">QccENTHuffmanTable</B>(3)</A>
, <B><A HREF="QccPackENT.3.html">QccPackENT</B>(3)</A>
, <B><A HREF="QccPack.3.html">QccPack</B>(3)</A>
 
<P>
D. A. Huffman, "A Method for the Construction of Minimum-Redundancy Codes," 
<I>Proceedings of the IRE</I>, vol. 40, pp. 1098-1101, September 1952. <P>
ISO/IEC 10918, 
<I>Digital compression and coding of continuous-tone still images</I>, 1994.  
<H2><A NAME="sect7" HREF="#toc7">AUTHOR 
</A></H2>
Copyright (C) 1997-2016  James E. Fowler <P>
 <P>

<HR><P>
<A NAME="toc"><B>Table of Contents</B></A><P>
<UL>
<LI><A NAME="toc0" HREF="#sect0">NAME</A></LI>
<LI><A NAME="toc1" HREF="#sect1">SYNOPSIS</A></LI>
<LI><A NAME="toc2" HREF="#sect2">DESCRIPTION</A></LI>
<LI><A NAME="toc3" HREF="#sect3">EXAMPLE</A></LI>
<LI><A NAME="toc4" HREF="#sect4">NOTE</A></LI>
<LI><A NAME="toc5" HREF="#sect5">RETURN VALUE</A></LI>
<LI><A NAME="toc6" HREF="#sect6">SEE ALSO</A></LI>
<LI><A NAME="toc7" HREF="#sect7">AUTHOR</A></LI>
</UL>
<p><br><br><a href="http://sourceforge.net/projects/qccpack"><img src="http://sflogo.sourceforge.net/sflogo.php?group_id=5992&type=6" width="210" height="62" border="0" alt="Get QccPack at SourceForge.net. Fast, secure and Free Open Source software downloads" /></a></body></html>
