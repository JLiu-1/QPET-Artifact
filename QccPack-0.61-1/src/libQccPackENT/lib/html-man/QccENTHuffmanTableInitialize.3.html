<!-- manual page source format generated by PolyglotMan v3.0.4, -->
<!-- available via anonymous ftp from ftp.cs.berkeley.edu:/ucb/people/phelps/tcltk/rman.tar.Z -->

<HTML>
<HEAD>
<TITLE>QccENTHuffmanTableInitialize.3</TITLE>
</HEAD>
<BODY>
<A HREF="#toc">Table of Contents</A><P>
 
<H2><A NAME="sect0" HREF="#toc0">NAME </A></H2>
QccENTHuffmanTable -  data structure  <B>QccENTHuffmanTable</B> and corresponding 
<B>HUF</B> file format for Huffman encoding and decoding  
<H2><A NAME="sect1" HREF="#toc1">SYNOPSIS </A></H2>
<B>#include "libQccPack.h"</B> 
 <P>
<B>int QccENTHuffmanTableInitialize(QccENTHuffmanTable *</B><I>table</I><B>);</B>  <BR>
<B>int QccENTHuffmanTableAlloc(QccENTHuffmanTable 
*</B><I>table</I><B>);</B>  <BR>
<B>void QccENTHuffmanTableFree(QccENTHuffmanTable *</B><I>table</I><B>);</B>  <BR>
<B>int 
QccENTHuffmanTablePrint(const QccENTHuffmanTable *</B><I>table</I><B>);</B>  <BR>
<B>int QccENTHuffmanTableRead(QccENTHuffmanTable 
*</B><I>table</I><B>);</B>  <BR>
<B>int QccENTHuffmanTableWrite(QccENTHuffmanTable *</B><I>table</I><B>);</B>  
<H2><A NAME="sect2" HREF="#toc2">DESCRIPTION 
</A></H2>
QccPack provides data structure <B>QccENTHuffmanTable</B> for representing the 
Huffman code table to use in Huffman encoding and decoding. <P>
The main component 
of a <B>QccENTHuffmanTable</B> is an array of <B>QccENTHuffmanTableEntry</B> entries 
(see below).  Each of these entries contain a source symbol (an integer) 
and its correspoding Huffman codeword.  
<H2><A NAME="sect3" HREF="#toc3">DATA STRUCTURE </A></H2>
The <B>QccENTHuffmanTable</B> 
data structure is defined as:  <blockquote><P>
 typedef struct <BR>
 { <BR>
   QccString filename; 
<BR>
   QccString magic_num; <BR>
   int major_version; <BR>
   int minor_version; <BR>
  
 int table_type; <BR>
   int table_length; <BR>
   QccENTHuffmanTableEntry *table; 
<BR>
   int *num_codewords_list; <BR>
   int num_codewords_list_length; <BR>
   int *symbol_list; 
<BR>
   int symbol_list_length; <BR>
   int codeword_max[QCCENTHUFFMAN_MAXCODEWORDLEN]; 
<BR>
   int codeword_min[QCCENTHUFFMAN_MAXCODEWORDLEN]; <BR>
   int codeword_ptr[QCCENTHUFFMAN_MAXCODEWORDLEN]; 
<BR>
 } QccENTHuffmanTable; <BR>
  </blockquote>
<P>
The fields of <B>QccENTHuffmanTable</B> are as follows: 

<DL>

<DT><I>filename</I>  </DT>
<DD>For tables associated with a file, this is the name of the file. 
</DD>

<DT><I>magic_num</I>, <I>major_version</I>, <I>minor_version</I>  </DT>
<DD>For tables associated with a 
file, these are the magic number and version of the file. </DD>

<DT><I>table_type</I>  </DT>
<DD>the 
type of the table,  <B>QCCENTHUFFMAN_DECODETABLE </B> for a decoding table, <B>QCCENTHUFFMAN_ENCODETABLE</B> 
for an encoding table. </DD>

<DT><I>table_length</I>  </DT>
<DD>the number of entries in the table 
</DD>

<DT><I>table</I>  </DT>
<DD>the table of symbols and codewords </DD>

<DT><I>num_codewords_list</I>, <I>num_codewords_list_length</I>, 
 </DT>
<DD><I>symbol_list</I>, <I>symbol_list_length</I> arrays and array lengths used for creating 
the Huffman table; see <B><A HREF="QccENTHuffmanTableCreateDecodeTable.3.html">QccENTHuffmanTableCreateDecodeTable</B>(3)</A>
 </DD>

<DT><I>codeword_max</I>, 
<I>codeword_min</I>, <I>codeword_ptr</I>  </DT>
<DD>auxiliary arrays used for  <B>QCCENTHUFFMAN_DECODETABLE</B> 
type tables for the Huffman decoding process (for internal QccPack use 
only) </DD>
</DL>
<P>
The <B>QccENTHuffmanTableEntry</B> data structure, used to hold source 
symbols and their corresponding codewords is defined as:  <blockquote><P>
 typedef struct 
<BR>
 { <BR>
   int symbol; <BR>
   QccENTHuffmanCodeword codeword; <BR>
 } QccENTHuffmanTableEntry; 
<BR>
  </blockquote>
<P>
The fields of <B>QccENTHuffmanTableEntry</B> are as follows: 
<DL>

<DT><I>symbol</I>  </DT>
<DD>the source 
symbol represented as an integer greater than or equal to 0 and less than 
or equal to <B>QCCENTHUFFMAN_MAXSYMBOL</B> </DD>

<DT><I>codeword</I>  </DT>
<DD>the Huffman codeword </DD>
</DL>
<P>
The 
<B>QccENTHuffmanCodeword</B> data structure, used to hold the Huffman codeword 
itself, is defined as:  <blockquote><P>
 typedef struct <BR>
 { <BR>
   int length; <BR>
   int codeword; 
<BR>
 } QccENTHuffmanCodeword; <BR>
  </blockquote>
<P>
The fields of <BR>
 <B>QccENTHuffmanCodeword</B> are as 
follows: <BR>
 
<DL>

<DT><I>length</I>  </DT>
<DD>the length, in bits, of the codeword <BR>
 </DD>

<DT><I>codeword</I>  </DT>
<DD>the 
actual Huffman codeword, stored in the least-significant <BR>
 <I>length</I> bits of 
the <BR>
 <I>codeword</I> integer; the most-significant bit of the Huffman codeword 
(i.e., <BR>
 at the "root" of the Huffman tree and the first bit to be output 
<BR>
 during the encoding of the corresponding symbol) is stored in the <BR>
 left-most 
position <BR>
 </DD>
</DL>
 
<H2><A NAME="sect4" HREF="#toc4">FILE FORMAT </A></H2>
For reading and writing structures of type <B>QccENTHuffmanTable</B>, 
QccPack provides the <B>HUF</B> file format. This file format starts with an ASCII 
header followed by ASCII data. The ASCII header consists of magic-number/revision 
information followed by any amount of white space (space, `\t' (tab), `\n' (newline), 
`\r' (return)) and/or comments lines (lines starting with `#').  Following this 
white space, additional ASCII header information is given, separated by 
blanks and newlines. ASCII data follows this ASCII header information. <P>
The 
<B>HUF</B> file format consists of the following information:  <blockquote> <P>
<B>HUF</B><I>X.X</I>  <BR>
<I>&lt;white 
space&gt;</I>  <BR>
<I>num_codewords_list_length</I>  <BR>
<I>symbol_list_length</I>  <BR>
<I>num_codewords_list</I> 
 <BR>
.  <BR>
.  <BR>
.  <BR>
<I>symbol_list</I>  <BR>
.  <BR>
.  <BR>
.  <BR>
 <P>
 </blockquote>
where <B>HUF</B> is the magic number, <I>X.X</I> is the version 
number, <I>&lt;white space&gt;</I> is white space and/or  comment lines,  <I>num_codewords_list_length</I> 
is the length of the  <I>num_codewords_list</I> to appear later in the file, 
and <I>symbol_list_length</I> is the length of the <I>symbol_list</I> to appear later 
in the file. <I>num_codewords_list</I> is the list of the number of codewords, 
starting with length 1. <I>symbol_list</I> is the list of symbols (in decimal 
integers) corresponding to the codewords. <P>
For example, if the Huffman table 
has the following symbols and codewords,  <blockquote><P>
   Symbol     Codeword Length 
     Codeword <BR>
 ------------------------------------------- <BR>
    'a'              2                00 <BR>
    'b'          
    2                01 <BR>
    'c'              3                100 <BR>
    'd' 
             4                1010 <BR>
    'e'              4               
 1011 <BR>
 <P>
  </blockquote>
the corresponding <B>HUF</B>-format file would be:  <blockquote><P>
 HUFX.X <BR>
 # Optional 
comment(s) here <BR>
 4 <BR>
 5 <BR>
 0               &lt;----- Start with length = 1 <BR>
 2 <BR>
 1 <BR>
 2 
<BR>
 97              &lt;----- Decimal integer representation of symbols <BR>
 98 <BR>
 99 <BR>
 100 
<BR>
 101 <BR>
 <P>
  </blockquote>
Note: the stuff starting with the "&lt;----" arrows is merely  an annotation 
and is not actually a legal part of the file.  
<H2><A NAME="sect5" HREF="#toc5">ROUTINES </A></H2>
<B>QccENTHuffmanTableInitialize()</B> 
should be called before any use of a <B>QccENTHuffmanTable</B> structure. <B>QccENTHuffmanTableInitialize()</B> 
initializes the fields of <I>table</I> to the following values:  <blockquote><P>
 <I>table_type</I>: 
<B>QCCENTHUFFMAN_DECODETABLE</B>  <BR>
<I>table</I>: <B>NULL</B>  <BR>
<I>table_length</I>: 0  </blockquote>
<P>
<B>QccENTHuffmanTableAlloc()</B> 
allocates the Huffman table.  <I>table_length</I> must be set before calling <B>QccENTHuffmanTableAlloc()</B>. 
<P>
<B>QccENTHuffmanTableFree()</B> frees the  <I>table</I> array. <P>
<B>QccENTHuffmanTablePrint()</B> 
prints the contents of <I>table</I> to stdout. <P>
<B>QccENTHuffmanTableRead()</B> reads 
a Huffman table from a  <B>HUF</B>-format file. <I>table</I> is returned as either a decoding 
or encoding table; set <I>table</I>-&gt;<I>table_type</I> to either <B>QCCENTHUFFMAN_ENCODETABLE</B> 
or <B>QCCENTHUFFMAN_DECODETABLE</B>, respectively, before calling <B>QccENTHuffmanTableRead()</B>. 
<B>QccENTHuffmanTableRead()</B> reads the list of numbers of codewords and the 
list of symbols from the file whose name is given by <I>table</I>-&gt;<I>filename</I> (must 
be set before calling <B>QccENTHuffmanTableRead()</B>) and then calls either 
<B><A HREF="QccENTHuffmanTableCreateEncodeTable.3.html">QccENTHuffmanTableCreateEncodeTable</B>(3)</A>
 or <B><A HREF="QccENTHuffmanTableCreateDecodeTable.3.html">QccENTHuffmanTableCreateDecodeTable</B>(3)</A>
, 
as appropriate, to generate the actual table, <I>table</I>-&gt;<I>table</I>, of Huffman codewords. 
<P>
<B>QccENTHuffmanTableWrite()</B> writes the Huffman table, <I>table</I>, to the  <B>HUF</B>-format 
file whose name is given in <I>table</I>-&gt;<I>filename</I>. Usually,  <I>table</I> will be either 
an encoding table (<I>table</I>-&gt;<I>table_type</I> = <B>QCCENTHUFFMAN_ENCODETABLE</B>) or a decoding 
table (<I>table</I>-&gt;<I>table_type</I> = <B>QCCENTHUFFMAN_DECODETABLE</B>) that was created by 
a call to <B><A HREF="QccENTHuffmanDesign.3.html">QccENTHuffmanDesign</B>(3)</A>
.  
<H2><A NAME="sect6" HREF="#toc6">RETURN VALUE </A></H2>
These routines return 0 
on success, and 1 on failure.  
<H2><A NAME="sect7" HREF="#toc7">SEE ALSO </A></H2>
<B><A HREF="QccENTHuffmanTableCreateDecodeTable.3.html">QccENTHuffmanTableCreateDecodeTable</B>(3)</A>
, 
<B><A HREF="QccENTHuffmanTableCreateEncodeTable.3.html">QccENTHuffmanTableCreateEncodeTable</B>(3)</A>
, <B><A HREF="QccENTHuffmanDecode.3.html">QccENTHuffmanDecode</B>(3)</A>
, <B><A HREF="QccENTHuffmanEncode.3.html">QccENTHuffmanEncode</B>(3)</A>
, 
<B><A HREF="QccENTHuffmanDesign.3.html">QccENTHuffmanDesign</B>(3)</A>
, <B><A HREF="QccPackENT.3.html">QccPackENT</B>(3)</A>
, <B><A HREF="QccPack.3.html">QccPack</B>(3)</A>
 <P>
D. A. Huffman, "A Method 
for the Construction of Minimum-Redundancy Codes," <I>Proceedings of the IRE</I>, 
vol. 40, pp. 1098-1101, September 1952.  
<H2><A NAME="sect8" HREF="#toc8">AUTHOR </A></H2>
Copyright (C) 1997-2016  James 
E. Fowler <P>
  <P>

<HR><P>
<A NAME="toc"><B>Table of Contents</B></A><P>
<UL>
<LI><A NAME="toc0" HREF="#sect0">NAME</A></LI>
<LI><A NAME="toc1" HREF="#sect1">SYNOPSIS</A></LI>
<LI><A NAME="toc2" HREF="#sect2">DESCRIPTION</A></LI>
<LI><A NAME="toc3" HREF="#sect3">DATA STRUCTURE</A></LI>
<LI><A NAME="toc4" HREF="#sect4">FILE FORMAT</A></LI>
<LI><A NAME="toc5" HREF="#sect5">ROUTINES</A></LI>
<LI><A NAME="toc6" HREF="#sect6">RETURN VALUE</A></LI>
<LI><A NAME="toc7" HREF="#sect7">SEE ALSO</A></LI>
<LI><A NAME="toc8" HREF="#sect8">AUTHOR</A></LI>
</UL>
<p><br><br><a href="http://sourceforge.net/projects/qccpack"><img src="http://sflogo.sourceforge.net/sflogo.php?group_id=5992&type=6" width="210" height="62" border="0" alt="Get QccPack at SourceForge.net. Fast, secure and Free Open Source software downloads" /></a></body></html>
